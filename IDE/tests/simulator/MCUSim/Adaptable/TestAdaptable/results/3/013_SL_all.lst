                   1         ; testing of rotate instructions
                   2
                   3     device "003_picoblazecopy.procdef"
  00000            4         org 00h
                   5
  00000            6     start:      load        s0,#1
E: instruction LOAD cannot be used with these operands.
                   7                 load        s1,#1
                   8                 load        s2,#1
                   9                 load        s3,#0
                  10                 ;; step     4
                  11                 ;; reg[0] == 1
                  12                 ;; reg[1] == 1
                  13                 ;; reg[2] == 1
                  14                 ;; reg[3] == 0
                  15     ; sl0 testing
                  16                 sl0         s0
                  17                 ;; step
                  18                 ;; reg[0] == 2
                  19                 ;; flag[c] == false
                  20                 ;; flag[z] == false
                  21                 sl0         s0
                  22                 ;; step
                  23                 ;; reg[0] == 4
                  24                 ;; flag[c] == false
                  25                 ;; flag[z] == false
                  26
                  27                 sl0         s0
                  28                 ;; step
                  29                 ;; reg[0] == 8
                  30                 ;; flag[c] == false
                  31                 ;; flag[z] == false
                  32                 sl0         s0
                  33                 ;; step
                  34                 ;; reg[0] == 16
                  35                 ;; flag[c] == false
                  36                 ;; flag[z] == false
                  37
                  38                 sl0         s0
                  39                 ;; step
                  40                 ;; reg[0] == 32
                  41                 ;; flag[c] == false
                  42                 ;; flag[z] == false
                  43                 sl0         s0
                  44                 ;; step
                  45                 ;; reg[0] == 64
                  46                 ;; flag[c] == false
                  47                 ;; flag[z] == false
                  48                 sl0         s0
                  49                 ;; step
                  50                 ;; reg[0] == 128
                  51                 ;; flag[c] == false
                  52                 ;; flag[z] == false
                  53                 sl0         s0
                  54                 ;; step
                  55                 ;; reg[0] == 0
                  56                 ;; flag[c] == true
                  57                 ;; flag[z] == true
                  58
                  59     ; sl1 testing
                  60                 sl1         s0
                  61                 ;; step
                  62                 ;; reg[0] == 1
                  63                 sl1         s0
                  64                 ;; step
                  65                 ;; reg[0] == 3
                  66                 sl1         s0
                  67                 ;; step
                  68                 ;; reg[0] == 7
                  69                 sl1         s0
                  70                 ;; step
                  71                 ;; reg[0] == 15
                  72                 sl1         s0
                  73                 ;; step
                  74                 ;; reg[0] == 31
                  75                 sl1         s0
                  76                 ;; step
                  77                 ;; reg[0] == 63
                  78                 sl1         s0
                  79                 ;; step
                  80                 ;; reg[0] == 127
                  81                 ;; flag[c] == false
                  82                 ;; flag[z] == false
                  83                 sl1         s0
                  84                 ;; step
                  85                 ;; reg[0] == 255
                  86                 ;; flag[c] == false
                  87                 ;; flag[z] == false
                  88                 sl1         s0
                  89                 ;; step
                  90                 ;; reg[0] == 255
                  91                 ;; flag[c] == true
                  92                 ;; flag[z] == false
                  93     ; slx testing
                  94                 load        s2,#1
                  95                 slx         s2
                  96                 ;; step 2
                  97                 ;; reg[2] == 3
                  98                 slx         s2
                  99                 ;; step
                 100                 ;; reg[2] == 7
                 101                 slx         s2
                 102                 ;; step
                 103                 ;; reg[2] == 15
                 104                 slx         s2
                 105                 ;; step
                 106                 ;; reg[2] == 31
                 107                 slx         s2
                 108                 ;; step
                 109                 ;; reg[2] == 63
                 110                 slx         s2
                 111                 ;; step
                 112                 ;; reg[2] == 127
                 113                 ;; flag[c] == false
                 114                 ;; flag[z] == false
                 115                 slx         s2
                 116                 ;; step
                 117                 ;; reg[0] == 255
                 118                 ;; flag[c] == false
                 119                 ;; flag[z] == false
                 120                 slx         s2
                 121                 ;; step
                 122                 ;; reg[2] == 255
                 123                 ;; flag[c] == true
                 124                 ;; flag[z] == false
                 125                 load        s2,#128
                 126                 slx         s2
                 127                 ;; step 2
                 128                 ;; flag[c] == true
                 129                 ;; flag[z] == true
                 130     ; sla testing
                 131                 sla         s3
                 132                 ;; step
                 133                 ;; reg[3] == 1
                 134                 sla         s3
                 135                 ;; step
                 136                 ;; reg[3] == 2
                 137                 sla         s3
                 138                 ;; step
                 139                 ;; reg[3] == 4
                 140                 sla         s3
                 141                 ;; step
                 142                 ;; reg[3] == 8
                 143                 sla         s3
                 144                 ;; step
                 145                 ;; reg[3] == 16
                 146                 sla         s3
                 147                 ;; step
                 148                 ;; reg[3] == 32
                 149                 sla         s3
                 150                 ;; step
                 151                 ;; reg[3] == 64
                 152                 sla         s3
                 153                 ;; step
                 154                 ;; reg[3] == 128
                 155                 sla         s3
                 156                 ;; step
                 157                 ;; reg[3] == 0
                 158                 ;; flag[z] == true
                 159                 ;; flag[c] == true
                 160                 sla         s3
                 161                 ;; step
                 162                 ;; reg[3] == 1
                 163                 ;; flag[z] == false
                 164                 ;; flag[c] == false
                 165     ; testing of rl
                 166                 rl         s3
                 167                 ;; step
                 168                 ;; reg[3] == 2
                 169                 rl         s3
                 170                 ;; step
                 171                 ;; reg[3] == 4
                 172                 rl         s3
                 173                 ;; step
                 174                 ;; reg[3] == 8
                 175                 rl         s3
                 176                 ;; step
                 177                 ;; reg[3] == 16
                 178                 rl         s3
                 179                 ;; step
                 180                 ;; reg[3] == 32
                 181                 rl         s3
                 182                 ;; step
                 183                 ;; reg[3] == 64
                 184                 rl         s3
                 185                 ;; step
                 186                 ;; reg[3] == 128
                 187                 rl         s3
                 188                 ;; step
                 189                 ;; reg[3] == 1
                 190                 ;; flag[c] == true
                 191                 ;; flag[z] == false
                 192                 load        s3,#0
                 193                 rl          s3
                 194                 ;; step 2
                 195                 ;; flag[z] == true
                 196                 ;; flag[c] == false
