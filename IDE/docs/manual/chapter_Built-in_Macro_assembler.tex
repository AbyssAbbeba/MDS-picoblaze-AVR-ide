In this chapter, we will be concerned with build-in macro assembler. With syntax of its statements, directives and PicoBlaze assembler instructions. It is assumed, that the reader is familiar with general concepts of assembly language programming and PicoBlaze architecture.

MDS has the most advanced macro assembler on the market. Its suports a lot of various types of macros and advanced directives, like for example REPT and WHILE, which can create for and while loops or  macros with unlimited number of input parameters.

Each list element is being parsed and splitted into an address reference, a command and an argument list. After them all directives are beeing filtered out and all commands and their arguments are beeing checked for validity.

\paragraph{Important changes}
    You need to tell compiler, that you are using constants by adding \# before second operand.

    {
        ~\\
        \usecodefont
        \verb'; Example of instructions operating with constants'\\
        \verb'LOAD    s0, #0b000111   ; compiler now know, that this number is a constant'\\
        \verb'LOAD    s0,  0b000111   ; and this compiler takes as an adrress'\\
    }

\section{Statements}
    Source code files for this assembler must be text files where lines are formed like these:

    {
        ~\\
        \usecodefont
        \verb'[ label: ]  [ instruction  [ operand [ , operand [ , operand ] ] ]  [ ;comment ]'\\
        \verb'[ label: ]  directive      [ argument ]                             [ ;comment ]'\\
        \verb'            symbol         directive argument                       [ ;comment ]'\\
        \verb'            directive      symbol, argument                         [ ;comment ]'\\
    }
    Everything in square brackets is optional. Compilation does not go beyond line containing "end" directive, so after that directive the code do not have to be syntactically valid. Empty lines are allowed as well as line containing only comment or label. Statements can be separated by spaces, NBSP characters and tabs. Statements are case insensitive and their length is not limited, overall line length is also not limited.

\section{Symbols}
    Symbol names for numbers, macros or addresses defined by user in the code using appropriate directive. Like with ``\texttt{equ}'' directive you can define a new symbol and assign a value to it right away. Symbols may consist of upper and lower case letter, digits and underscore character (``\_''), their length is not limited, they are case insensitive and they can be the same as language keywords. Be aware of that there cannot coexists two or more symbols in the same memory segment which differs only by letter casing, in other words symbols ``\texttt{abc}'' and ``\texttt{ABC}'' are completely the same thing.
    {
        ~\\
        \usecodefont
        \verb'First_symb      EQU     0b100111 ; Number in binary'\\
        \verb'Second_symb     SET     47q      ; Octal'\\
        \verb'Third_symb      REG     39d      ; Decimal'\\
        \verb'Fourth_symb     DATA    27h      ; Hexadecimal'\\
        \verb'Fifth_symb      CODE    27h      ; Hexadecimal'
    }

    As you can see in code example, some unknown directives are used for symbol definition. Next chapter describes all directives, as well as constants syntax and expresions priority.

\section{Constants}
    MDS supports both prefix and sufix definition.

    \begin{code}[h!]
    {
        \usecodefont

        \verb'x       equ     10         ; Decimal'\\
        \verb'x       equ     10D        ; Decimal'\\
        \verb'x       equ     0xFE       ; Hexadecimal'\\
        \verb'x       equ     FEh        ; Hexadecimal'\\
        \verb'x       equ     O52        ; Octal'\\
        \verb'x       equ     52q        ; Octal'\\
        \verb'x       equ     01011110b  ; Binary'\\
        \verb'x       equ     0b00100001 ; Binary'\\
        \verb'x       equ     0b01       ; Binary, considers left side of byte zeroes'\\
        \verb'x       equ     01b        ; Binary, considers right side of byte zeroes'

        \caption{Syntax of various constant bases.}
        \label{code:svcb}
    }
    \end{code}

    When you want to say to compiler, that you are using constant, you must add "\#" before.

\clearpage
\section{Expressions}
    Arithmetical expressions are evaluated at compilation time and replaced by assembler with constant corresponding the their resulting value. Expressions comprises of arithmetical operators, constants, symbols and another expressions. An example of such expression might be:

    \begin{itemize}
        \item \texttt{2+1}
        \item \texttt{(2 + 4) - ABC}
        \item \texttt{A \&\& B}
        \item \texttt{X XOR 0FF00h}
        \item \texttt{X * Y + X \% Y}
    \end{itemize}

    When multiple operators occur in an expression, the expression is evaluated in a specific order depending upon the operators in the expression. All logical operators have priorities lower than arithmetic and relational operators. Therefore, if an expression involving arithmetic, relational and logical operators, the arithmetic operators are evaluated first, followed by the relational operators, followed by the logical operators.

    The following table shows the priority of all the operators used in expressions.

    \begin{table}[h!]
        \centering{}
        \mysmallfont{}

        \begin{tabular}{|l|l|l|l|}
            \hline
            Priority & Operator & Description             & Example         \\\hline
            1        & +        & unary plus sign         & +12             \\\hline
            1        & -        & unary minus sign        & -5              \\\hline
            2        & \~{}     & bitwise NOT             & \~{}0a55ah      \\\hline
            2        & !        & logical NOT             & !0a55ah         \\\hline
            3        & *        & unsigned multiplication & 11 * 12         \\\hline
            3        & /        & unsigned divisiono      & 11 / 12         \\\hline
            3        & \%       & unsigned remainder      & 13 \% 11        \\\hline
            4        & +        & unsigned addition       & 3 + 5           \\\hline
            4        & -        & unsigned substraction   & 20 - 4          \\\hline
            5        & <{}<     & binary shift left       & 21 << 4         \\\hline
            5        & >{}>     & binary shift right      & 32 >> 2         \\\hline
            6        & <        & less than               & 11 < 12         \\\hline
            6        & <=       & less or equal than      & 11 <= 11        \\\hline
            6        &  >       & greater than            & 12 > 11         \\\hline
            6        & >=       & greater or equal than   & 12 >= 11        \\\hline
            7        & ==       & equal to                & 11 == 11        \\\hline
            7        & !=       & not equal to            &  A != B         \\\hline
            8        & \&       & bitwise and             & 48 \& 16        \\\hline
            8        & |        & bitwise or              & 370q | 7        \\\hline
            9        & \&\&     & logical and             & 48 \&\& 16      \\\hline
            9        & ||       & logical or              & 370q || 7       \\\hline
            9        & \^{}     & exclusive or            & 00fh \^{} 005h  \\\hline
        \end{tabular}

        \caption{Expression operators priority}
    \end{table}

    A priority of 1 is the highest priority a priority of 9 is the lowest priority. When operators with different priority levels appear in an expression, operations are performed according to priorities. When operators of the same priority appear in an expression, operations are performed from left to right within the expression.

\section{Predefined Symbols}
    There are symbols which are defined by default by assembler. The aim is to make it a little easier to write code in assembly language for Picoblaze, because user do not have to define all these symbols in his or her code.

    \begin{table}[h!]
        \centering{}
        \mysmallfont{}

        \begin{tabular}{|cc|}
            \hline
            Symbol & Value \\\hline
            s0     & 000h  \\\hline
            s1     & 001h  \\\hline
            s2     & 002h  \\\hline
            s3     & 003h  \\\hline
            s4     & 004h  \\\hline
            s5     & 005h  \\\hline
            s6     & 006h  \\\hline
            s7     & 007h  \\\hline
            s8     & 008h  \\\hline
            s9     & 009h  \\\hline
            sA     & 00Ah  \\\hline
            sB     & 00Bh  \\\hline
            sC     & 00Ch  \\\hline
            sD     & 00Dh  \\\hline
            sE     & 00Eh  \\\hline
            sF     & 00Fh  \\\hline
        \end{tabular}

        \caption{Code addresses}
    \end{table}

\section{Assembler directives}
    Assembly directives are instructions that are executed by an assembler at assembly time, not by a CPU at run time. They can make the assembly of the program dependent on parameters input by a programmer, so that one program can be assembled different way, perhaps for different applications. They also can be used to manipulate presentation of a program to make it easier to read and maintain.

    The specified format for most of the directives is:
    {
        ~\\
        \usecodefont
        \verb'<symbol> <directive> <expresion>'
    }

    \bigskip

    This syntax is valid for directives EQU, SET, REG, DATA, CODE, PORT, and DEFINE. MDS also supports some other directives, with diferent syntax format, which is:
    {
        ~\\
        \usecodefont
        \verb'<directive> <symbol>, <expresion>'
    }

    \bigskip

    Those directives are CONSTANT, VARIABLE, ADRESS, and NAMEREG. There are some other usefull directives like REPT or WHILE. See description below.

    \clearpage
    \subsection{INCLUDE}
        \subsubsection{Syntax}
        {
            ~\\
            \usecodefont
            \verb'INCLUDE "file_name.asm"'
        }
        \subsubsection{Description}
            Compiler basicaly copies content of included file to line, where the directive is used. Include files can include other files.

        \subsubsection{Examples}
        {
            ~\\
            \usecodefont
            \verb'INCLUDE "some_file.asm"'\\
            \verb'INCLUDE "sub_dir/another_file.asm"'\\
            \verb'INCLUDE "C:/my_dir/my_file.asm"'\\
            \verb'INCLUDE "C:\\my_dir\\my_file.asm"'\\
            \verb'INCLUDE "/home/AlanTuring/my_project/cool_file.asm"'\\
        }

    \subsection{EQU}
        \subsubsection{Syntax}
        {
            ~\\
            \usecodefont        
            \verb'<symbol>      EQU             <expresion> '
        }
        \subsubsection{Description:}
                The directive EQU stands for "equals". It allows you to give a numerical value to a symbol. This symbol cannot be redefined.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'First_symb    EQU     0b10011100              ;Number in binary'\\
            \verb'Second_symb   EQU     47                      ;Number in decimal'\\
            \verb'Third_symb    EQU     0x39                    ;Number in hexadecimal'\\
            \verb'Fourth_symb   EQU     (A -4)+ 18 / B)         ;Number with expresion'\\
            \verb'Fifth_symb    EQU     0x09 << 2               ;'\\
        }

    \subsection{CONSTANT}
        \subsubsection{Syntax}
        {
            ~\\
            \usecodefont
            \verb'CONSTANT             <symbol>,<expresion>'
        }
        \subsubsection{Description:}
                The directive CONSTANT. It allows you to give a numerical value to a symbol. This symbol cannot be redefined.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'CONSTANT     First_symb,0b10011100               ;Number in binary'\\
            \verb'CONSTANT     Second_symb,47                      ;Number in decimal'\\
            \verb'CONSTANT     Third_symb,0x39                     ;Number in hexadecimal'\\
            \verb'CONSTANT     Fourth_symb,(A -4)+ 18 / B)         ;Number with expresion'\\
            \verb'CONSTANT     Fifth_symb,0x09 << 2                ;'\\
        }

    \subsection{SET}
        \subsubsection{Syntax}
        {
            ~\\
            \usecodefont
            \verb'<symbol>      SET             <expresion>'
        }
        \subsubsection{Description:}
            The directive SET allows you to give a numerical value to a symbol like EQU, but with this symbol can be redefined.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'First_symb    SET     0b10011100              ;Number in binary'\\
            \verb'Second_symb   SET     47                      ;Number in decimal'\\
            \verb'Third_symb    SET     0x39                    ;Number in hexadecimal'\\
            \verb'Fourth_symb   SET     (A -4)+ 18 / B)         ;Number with expresion'\\
            \verb'Fifth_symb    SET     0x09 << 2               ;'\\
        }
        
    \subsection{VARIABLE}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont        
            \verb'VARIABLE            <symbol>,<expresion>'
        }
        \subsubsection{Description:}
            Directive VARIABLE is similar to SET, but with diferent syntax. Symbols defined with VARIABLE can be redefined with another value in your source
            code, but those defined with EQU cannot.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'VARIABLE     First_symb,0b10011100               ;Number in binary'\\
            \verb'VARIABLE     Second_symb,47                      ;Number in decimal'\\
            \verb'VARIABLE     Third_symb,0x39                     ;Number in hexadecimal'\\
            \verb'VARIABLE     Fourth_symb,(A -4)+ 18 / B)         ;Number with expresion'\\
            \verb'VARIABLE     Fifth_symb,0x09 << 2                ;'\\
        }

    \subsection{REG}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont        
            \verb'<symbol>      REG             <reg name/address>'
        }
            
        \subsubsection{Description:}
        Symbols defined with the REG directive are by compiler considered as work registers.

        \subsubsection{Examples:}
            {
            ~\\
            \usecodefont
            \verb'First_symb        REG     s1'\\
            \verb'Second_symb       REG     s2'\\
            \verb'Third_symb        REG     s3'\\
            \verb'Fourth_symb       REG     0x4'\\
            \verb'Fifth_symb        REG     0x5'\\
            }
            
        \subsection{NAMEREG}
        {
            ~\\
            \usecodefont        
            \verb'NAMEREG            <symbol>,<reg name or address> '
            }            
        \subsubsection{Description:}
        Directive NAMEREG is similar to REG, but with diferent syntax. Symbols defined with NAMEREG can be redefined with another value in your source
        code.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'NAMEREG     s1'\\
            \verb'NAMEREG     s2'\\
            \verb'NAMEREG     s3'\\
            \verb'NAMEREG     4         ; Address'\\
            \verb'NAMEREG     0xA       ; Address'\\
        }


    \subsection{DATA}
        \subsubsection{Syntax:}
            {
                ~\\
                \usecodefont        
            \verb'<symbol>      DATA             <expresion>'
            }            
            
        \subsubsection{Description:}
            Symbols defined with the DATA directive are by compiler considered as memory data . It must be used only with instructions FETCH and STORE.

        \subsubsection{Examples:}
            {
                ~\\
                \usecodefont
                \verb'First_symb    DATA                0b10011100              ;Number in binary'\\
                \verb'Second_symb   DATA                47                      ;Number in decimal'\\
                \verb'Third_symb    DATA                0x39                    ;Number in hexadecimal'\\
                \verb'Fourth_symb   DATA                (A -4)+ 18 / B)         ;Number with expresion'\\
                \verb'Fifth_symb    DATA                0x09 << 2               ;'\\
            }
            
    \subsection{CODE}
        \subsubsection{Syntax:}
            {
                ~\\
                \usecodefont
            \verb'<symbol>      CODE             <expresion>'
            }
        \subsubsection{Description:}
        Symbols defined with the CODE directive are by compiler considered as program memory.

        \subsubsection{Examples:}
            {
                ~\\
                \usecodefont
                \verb'First_symb    CODE                0b10011100              ;Number in binary'\\
                \verb'Second_symb   CODE                47                      ;Number in decimal'\\
                \verb'Third_symb    CODE                0x39                    ;Number in hexadecimal'\\
                \verb'Fourth_symb   CODE                (A -4)+ 18 / B)         ;Number with expresion'\\
                \verb'Fifth_symb    CODE                0x09 << 2               ;'\\
            }
            
    \subsection{PORT}
        \subsubsection{Syntax:}
            {
                ~\\
                \usecodefont        
            \verb'<symbol>      PORT             <expresion>'
            }
        \subsubsection{Description:}
        Symbol defined with this directive is considered to be PORT\_ID identificator.

        \subsubsection{Examples:}
            {
                ~\\
                \usecodefont
                \verb'First_symb    PORT                0x10    '\\
                \verb'Second_symb   PORT                10      '\\
                \verb'Third_symb    PORT                0x2     '\\
                \verb'Fourth_symb   PORT                0x5     '\\
                \verb'Fifth_symb    PORT                0x09 + 2'\\
            }
    \subsection{AUTOREG}
        \subsubsection{Syntax:}
            {
                ~\\
                \usecodefont        
            \verb'<symbol>      AUTOREG         [<cnt address>]'
            }            
        \subsubsection{Description:}
        This directive saves time. You can use it, when you dont care which work register will be used. It will automatically assign a register
        at adress 0x00, which is incremented with every other AUTOREG directive. Optionaly, you can change starting address counter by adding a parameter
        after AUTOREG directive. You can check assigned registers in codelisting (file .lst) and symbol table (file .sym).

        \subsubsection{Examples:}
            {
                ~\\
                \usecodefont
                \verb'First_symb    AUTOREG             ; Automaticaly assigned, register at adress 0x00'\\
                \verb'Second_symb   AUTOREG'\\
                \verb'Third_symb    AUTOREG'\\
                \verb'Fourth_symb   AUTOREG     0x5     ; Now with optional parameter changing counting adress to 0x05'\\
                \verb'Fifth_symb    AUTOREG             ; Fifth_symb is on address 0x06'\\
            }
            
    \subsection{AUTOSPR}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont        
            \verb'<symbol>      AUTOSPR        [<cnt address>]'
        }
           
    \subsubsection{Description:}
    Must be used only with instructions FETCH and STORE. It will automatically assign an
    adress 0x00, which is incremented with every other AUTOSPR directive. Optionaly, you can change starting address counter by adding a parameter
    after AUTOSPR directive. You can check assigned memory in codelisting file(.lst) and symbol table file(.sym).

    \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'First_symb    AUTOSPR             ; Automaticaly assigned, data at adress 0x00'\\
            \verb'Second_symb   AUTOSPR'\\
            \verb'Third_symb    AUTOSPR'\\
            \verb'Fourth_symb   AUTOSPR     0x5     ; Now with optional parameter changing counting adress to 0x05'\\
            \verb'Fifth_symb    AUTOSPR             ; Fifth_symb is on address 0x06'\\
        }
            
    \subsection{INITSPR}
        \subsubsection{Syntax:}

        \subsubsection{Description:}
 
        \subsubsection{Examples:}


    \subsection{ORGSPR, MERGESPR}
        \subsubsection{Syntax:}

        \subsubsection{Description:}

    \subsection{DEFINE}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont        
            \verb'<symbol>      DEFINE             <expresion>'
        }
        \subsubsection{Description:}
        You can define expresion using previously defined symbols. Value of this expresion is calculated every time the symbol is used. You can use symbols in define expresions

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'A             EQU         10'\\
            \verb'B             SET         5                   ; Second symbol is redefinable'\\
            \verb'C             DEFINE      ( A + B ) * 2       ; Defined expresion'\\
            \verb'F = C                                         ; F equals 30'\\
            \verb'B             SET         10'\\
            \verb'F = C                                         ; F equals 40'\\
        }

    \subsection{ADDRESS,ORG}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont        
            \verb'ADDRESS             <expresion>'\\
            \verb'ORG                 <expresion>'
        }
        \subsubsection{Description:}
        When the ORG or ADDRESS statement is encountered, the assembler calculates the value of the expression and changes the address counter. The MDS assembler maintains a location counter for each segment. The location counter contains the offset of the instruction or data being assembled and is incremented after each line by the number of bytes of data or code in that line.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'ORG           0x3ff'\\
            \verb'ORG           START'\\
            \verb'ORG           INTERRUPT'\\
            \verb'ORG           (\$ + 15) \& 0xFFEE'\\
            \verb'ADDRESS       0x3ff'\\
            \verb'ADDRESS       START'\\
            \verb'ADDRESS       INTERRUPT'\\
            \verb'ADDRESS       (\$ + 15)'\\
        }
    \subsection{REPT}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont        
            \verb'REPT  <NumberOfRepetions>'\\
            \verb'<repeated code>'\\
            \verb'ENDR'
        }            

        \subsubsection{Description:}
            Directive REPT is able to repeatedly execute a block of code.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
                \verb'; With REPT'\\
                \verb'REPT              8'\\
                \verb'SR0               sF'\\
                \verb'ENDR'\\
                \verb'; Without REPT'\\
                \verb'SR0           sF'\\
                \verb'SR0           sF'\\
                \verb'SR0           sF'\\
                \verb'SR0           sF'\\
                \verb'SR0           sF'\\
                \verb'SR0           sF'\\
                \verb'SR0           sF'\\
                \verb'SR0           sF'\\
        }

    \subsection{\#WHILE}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont        
            \verb'#WHILE  <symbol>'\\
            \verb'<code>'\\
            \verb'#ENDW'
        }
        
        \subsubsection{Description:}
        The while construct consists of a block of code and an expresion. Following code is recompiled until expresion equals to zero.

        \subsubsection{Examples:}
        {
                ~\\
                \usecodefont
                \verb'B             SET             8'\\
                \verb'#WHILE        B                       ; while B != 0'\\
                \verb'SR0           sF'\\
                \verb'B             SET             B - 1'\\
                \verb'#ENDW'
        }

    \subsection{SKIP}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont        
            \verb'SKIP  <NumberOfInstructions>'
        }
        \subsubsection{Description:}
            SKIP directive is basicaly address counter + number evaluated in expression. See example for more info.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'SKIP          3        ; this will skip first three SR0, performing only one SR0'\\
            \verb'SR0           sF'\\
            \verb'SR0           sF'\\
            \verb'SR0           sF'\\
            \verb'SR0           sF'\\
        }

    \subsection{UNDEFINE, UNDEF}

        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
        \verb'UNDEFINE          <symbol>'\\
        \verb'UNDEF             <symbol>'
        }
        \subsubsection{Description:}
        All symbols can be UNDEFINED. Those symbols will be deleted from symbol table (file .sym) and compiler will not recognize them.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'My_symbol             SET             15'\\
            \verb'LOAD                  s0, #My_symbol'\\
            \verb'UNDEFINE              My_symbol               ; My_symbol undeclared, cannot be use'\\
            \verb'LOAD                  s0, #My_symbol          ; this will cause an error'\\
        }

    \subsection{DB}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb '; Expresion syntax'\\
            \verb'DB                 <expresion1>  [,<expresion2>,..]'\\
            \verb' ; String syntax'\\
            \verb'DB                <"string">'\\
            \verb'; Combination of string and expresions'\\
            \verb'DB                <"string"> [,<expresion1>,..]'\\
            \verb' ; parameter can be unlimited number of string characters, or expresions divided by comma'\\
        }
        \subsubsection{Description:}
            The DB directive initializes code memory with 18-bit values. The assembler accepts size up to 24-bit, but trimes 6 MSB bits making it 18-bit value,
            so it can fit into program memory. You can insert infinite number of string characters and MDS assembler seperates them into triplets of bytes replaced
            with their ASCII value. The assembler then trimes upper 6 bits making it 18-bit value.
            See the examples for better understanding of DB directive.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'DB      24828                   ; hexadecimal 0x0060FC'\\
            \verb'DB      "my string"             ; String syntax'\\
            \verb'DB      "my string",2+1,3...    ; Combination of string and expresions'\\
            \verb' ; parameter can be unlimited number of string characters, or expresions divided by comma'\\
        }
    \subsection{LIMIT}
    
        \subsubsection{Syntax:}
        \verb'LIMIT          D,<number>                  ; Number of registers '\\
        \verb'LIMIT          R,<number>                  ; Size of scratchpad ram '\\
        \verb'LIMIT          C,<number>                  ; Size of program memory '\\
        
        \subsubsection{Description:}
        Usefull when you want to change max. number of registers or size of  data and program memory. It is information for compiler.\\
        In this example, when you want to use 17 registers or JUMP to address bigger than 512, compiler gives you an error.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont            
            \verb'LIMIT          R,16                   ; Number of registers 16'\\
            \verb'LIMIT          D,7                    ; Size of scratchpad ram   '\\
            \verb'LIMIT          C,0b100000000          ; Size of program memory '\\
        }
        
    \subsection{DEVICE}
        \subsubsection{Syntax:}
        \verb'DEVICE            <device name>'

        \subsubsection{Description:}
        Normaly, you choose the target architecture, when you are creating a project. But you can also specific architecture with directive DEVICE.
        This will affect predefined symbols.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont       
            \verb'DEVICE                KCPSM3'\\
            \verb'DEVICE                KCPSM2'\\
            \verb'DEVICE                KCPSM1'\\
            \verb'DEVICE                KCPSM1cpld'\\
            \verb'DEVICE                KCPSM6'\\
        }

    \subsection{LIST, NOLIST}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont 
            \verb'LIST'\\
            \verb'NOLIST'
        }
        \subsubsection{Description:}
        You can turn on/off printing to code listing in some parts of your code.

    \subsection{TITLE}
        \subsubsection{Syntax:}
            \verb'TITLE            <"title text">'

        \subsubsection{Description:}
        This will put a title into coresponding line in codelisting.  

        \subsubsection{Examples:}
            {
                ~\\
                \usecodefont
                \verb'TITLE         "Text, that will show up in the codelisting"'
            }

    \subsection{MESSAGE}
        \subsubsection{Syntax:}
            \verb'MESSAGE            <"message text">'

        \subsubsection{Description:}
            You can define message, that will show up after compilation.  

        \subsubsection{Examples:}
            {
                ~\\
                \usecodefont
                \verb'MESSAGE         "Text, that will show up in the codelisting"'
            }

    \subsection{ERROR}
        \subsubsection{Syntax:}
            \verb'MESSAGE            <"error text">'
            
        \subsubsection{Description:}
        You can define an error report, which aborts compilation, when is executed.
        
        \subsubsection{Examples:}
            {
                ~\\
                \usecodefont
                \verb'ERROR         "Text, that will show up in the codelisting"'
            }

    \subsection{WARNING}
            \verb'WARNING            <"warning text">'
            
        \subsubsection{Description:}
            This will put title into coresponding line in codelisting.
            
        \subsubsection{Examples:}
            {
                ~\\
                \usecodefont
                \verb'WARNING         "Text, that will show up in the codelisting"'
            }

    \subsection{LOCAL}
        \subsubsection{Syntax:}
            \verb'LOCAL            <name>'

        \subsubsection{Description:}
            This directive is used to define local variables in macros, so when you expand macro multiple times, there will be no redefinition of labels or symbols.

        \subsubsection{Examples:}
            {
            ~\\
            \usecodefont
                \verb'MACRO         name_of_macro'\\
                \verb'LOCAL         wait'\\
                \verb'wait:'\\
                \verb'SUBCY         s0,#10h'\\
                \verb'SUB           s0,#1h' \\
                \verb'LOAD          s0,#F0h'\\
                \verb'JUMP          C,wait'\\
                \verb'ENDM'\\
            }
            
    \subsection{END}
        \subsubsection{Syntax:}
            \verb'END'

        \subsubsection{Description:}
        The END directive informs the assembler, that it has reached the end of a source file. Compiler ignores following code, so it doesnt have to be
        syntactically right.

        \subsubsection{Examples:}
            {
                ~\\
                \usecodefont
                \verb'END'
            }

    \subsection{FAILJMP,DEFAULT\_JUMP}
        \subsubsection{Syntax:}
            {
                ~\\
                \usecodefont
                \verb'<FAILJMP          "label">'\\
                \verb'<DEFAULT_JMP      "label">'
            }
            
        \subsubsection{Description:}
        Fills program memory with jump to the specified address. Simple protection against errors.

        \subsubsection{Examples:}
            {
                ~\\
                \usecodefont
                \verb'FAILJMP                   Start'\\
                \verb'DEFAULT\_JUMP             0x000'\\
            }


\section{Pseudo Instructions}
MDS assembler supports some usefull pseudo instructions, which can improve understandabillity of your source code. Compiler will replace those instructions with one or more PicoBlaze instructions, to achieve desired purpose of that instruction.

    \subsection{INC}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb'INC       <register>'
        }
        \subsubsection{Equal to:}
        {
            ~\\
            \usecodefont
            \verb'ADD       sX, #1'
        }
        \subsubsection{Description:}
    This instruction increments given register value by one.
        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'INC              s0'\\
        }

    \subsection{DEC}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb'DEC       <register>'
        }
        \subsubsection{Equal to:}
        {
            ~\\
            \usecodefont
            \verb'SUB       sX, #1'
        }
        \subsubsection{Description:}
    This instruction decrements given register value by one.
        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'DEC              s0'\\
        }

    \subsection{SETR}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb'SET       <register>'
        }
        \subsubsection{Equal to:}
        {
            ~\\
            \usecodefont
            \verb'OR       sX, #0xFF'
        }
        \subsubsection{Description:}
            This instruction sets given register.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'SETR              s0'\\
        }

    \subsection{CLRR}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb'CLRR       <register>'
        }
        \subsubsection{Equal to:}
        {
            ~\\
            \usecodefont
            \verb'AND       sX, #0x00'
        }
        \subsubsection{Description:}
            This instruction clears given register.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'CLRR              s0'\\
        }

    \subsection{CPL}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb'CPL       <register>'
        }
        \subsubsection{Equal to:}
        {
            ~\\
            \usecodefont
            \verb'XOR       sX, #0xFF'
        }
        \subsubsection{Description:}
            This instruction execute 1\'s complement with given register.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'CPL              s0'\\
        }

    \subsection{CPL2}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb'CPL2       <register>'
        }
        \subsubsection{Equal to:}
        {
            ~\\
            \usecodefont
            \verb'XOR              s0,#0xFF'\\
            \verb'ADD              s0,#1'\\
        }
        \subsubsection{Description:}
            This instruction executes 1\'s complement with given register.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'CPL2              s0'\\
        }

    \subsection{SETB}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb'SETB       <register>,<bit>           ; bit <0:7>'
        }
        \subsubsection{Equal to:}
         {
            ~\\
            \usecodefont       
            \verb'OR       sX, #1 << bit'
        }
        \subsubsection{Description:}
            Sets bit in given register.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'SETB              s0,3'\\
        }

    \subsection{CLRB}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb'CLRB       <register>,<bit>           ; bit <0:7>'
        }
        \subsubsection{Equal to:}
        {
            ~\\
            \usecodefont
            \verb'AND       sX,#(0xFF ^ (1 << bit))'
        }
        \subsubsection{Description:}
            Clears bit in given register.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'CLRB              s0,7'\\
        }

    \subsection{NOTB}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb'NOTB       <register>,<bit>           ; bit <0:7>'
        }
        \subsubsection{Equal to:}
        {
            ~\\
            \usecodefont
            \verb'XOR       sX,#(~(1 << bit))'
        }
        \subsubsection{Description:}
            Negates bit in given register.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'NOTB              s0,7'\\
        }

    \subsection{DJNZ}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont        
            \verb'DJNZ       <register>,<label>'
        }
        \subsubsection{Equal to:}
        {
            ~\\
            \usecodefont
            \verb'SUB               s0,#1'\\
            \verb'JUMP              NZ,loop'\\
        }
        \subsubsection{Description:}
            Given register is decremented until it is zero.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'loop:             '\\
            \verb'DJNZ              s0, loop'\\
        }

    \subsection{IJNZ}
        \subsubsection{Syntax:}
            \verb'IJNZ       <register>,<label>'

        \subsubsection{Equal to:}
        {
            ~\\
            \usecodefont
            \verb'ADD               s0,#1'\\
            \verb'JUMP              NZ,loop'\\
        }
        \subsubsection{Description:}
            Given register is incremented until overflow.

        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'loop:             '\\
            \verb'IJNZ              s0, loop'\\
        }

    \section{Run time directives}
    MDS assembler contains some special directives, which are evaluated during run time sequence. You can use them to evaluate simple conditions in your program.
    Those directives are IF, ELSEIF, WHILE, FOR.\\ Not all conditions allowed by assembler can be used.
    Table of allowed instructions is displayed below.
        \begin{table}[h!]
                \mysmallfont{}
                \centering{}
                \begin{tabular}{|l|l}
                \hline
                Condition operator       &          Example  \\
                ==                       &          A ==  B  \\
                !=                       &          A !=  B  \\
                >                        &          A >   B  \\
                <                        &          A <   B  \\
                >=                       &          A >=  B  \\
                <=                       &          A <=  B  \\
                \&                       &          A \&  B  \\
                !\&                      &          A !\& B
                \end{tabular}
                \caption{Allowed conditions with IF, WHILE}
        \end{table}

        \subsection{IF}
            \subsubsection{Syntax:}
            {
                ~\\
                \usecodefont
                \verb'IF                <condition>'\\
                \verb'<code>'\\
                \verb'ELSEIF            <condition>'\\
                \verb'<code>'\\
                \verb'ELSE'\\
                \verb'<code>'\\
                \verb'ENDIF'\\
            }

        \subsubsection{Description:}
        You can use RT\_IF for better readability of you code. Compiler translates this directive as predefined MACRO with instructions COMPARE and TEST and
        evaluates result. You can use registers, immediate constants (symbols) or register adress. Immediate constants are specified as number with \# prefix.
        Number without \# is considered as register adress. See example for conditions syntax. In example below, first condition is comparing register with constant 10. Second condition compares symbol with constant and third condition compares
        symbol with register adress. So 5 would have been replaced with value stored in register with adress 5.
        
        \subsubsection{Examples:}
        {
            ~\\
            \usecodefont
            \verb'IF         s0 == \#10'\\
            \verb'           LOAD  s0, \#10h'\\
            \verb'ELSEIF     B >= \#100'\\
            \verb'           SR0   s0'\\
            \verb'ELSE       A >= 5'\\
            \verb'           INPUT   s0,RX\_data'\\
            \verb'ENDIF'
        }
       
    \subsection{WHILE}
        \subsubsection{Syntax:}
        {
            ~\\
            \usecodefont
            \verb'WHILE       <condition>'\\
            \verb'<code>'\\
            \verb'ENDW'
        }\\
        
        \textbf{Description:}\\
        You can use WHILE for better readability of you code. Compiler translates this directive as predefined MACRO with instructions COMPARE and TEST and
        evaluates result. You can use registers, immediate constants (symbols) or register adress. Immediate constants are specified as number with \# prefix.
        Number without \# is considered as register adrress. See example for conditions syntax.\\
        \textbf{Examples:}\\
        {
            ~\\
            \usecodefont
            \verb'WHILE       s0 == #10'\\
            \verb'      ADDCY    S1,\#1'\\
            \verb'ENDW'
        }\\
        {
            ~\\
            \usecodefont
            \verb'WHILE       s0 > #10'\\
            \verb'      ADDCY    S1,#1'\\
            \verb'ENDW'
        }\\
        {
            ~\\
            \usecodefont
            \verb'WHILE       s0  != #10'\\
            \verb'      ADDCY    S1,#1'\\
            \verb'ENDW'
        }\\

        \subsection{FOR}
            \textbf{Syntax:}\\
        {
            ~\\
            \usecodefont
            \verb'FOR       <condition>'\\
            \verb'      <code>'\\
            \verb'ENDW'
        }\\
        
            \textbf{Description:}\\
            You can use FOR for better readability of you code. Compiler translates this directive as predefined MACRO with instructions COMPARE and TEST and
            evaluates result. There are three types of FOR conditions. In first, you have to write the name of used register and number of repetions. In this case,
            counting starts at number 0 and incrementing to number of repetions. In second type, you write used register and range of
            repetions ( for examle 5..10). In third type, you can even define size of one step, so incremented number can be for some reason bigger.
            See examples for better understanding.\\ WARNING: Using FOR directive will overide used register( s0 in example)
            \textbf{Examples:}\\
        {
            ~\\
            \usecodefont
            \verb'FOR       s0,10'\\
            \verb'      NOP'\\
            \verb'ENDF'
        }\\
        In this case, incrementing is from 0 to 10. Incrementing step is 1.\\
        {
            ~\\
            \usecodefont
            \verb'FOR       s0,10..20'\\
            \verb'      NOP'\\
            \verb'ENDF'
        }\\

        In this case, incrementing is in the range 10 to 20. Incrementing step is 1.\\
        {
            ~\\
            \usecodefont
            \verb'FOR       s0,10..50,10'\\
            \verb'      NOP'\\
            \verb'ENDF'
        }\\
        In this case, incrementing is from 10 to 50. Last number defines incrementing step. (In this case 10).\\

    \section{Macro Processing}
        Macro is a sequence of instructions which can be expanded anywhere in the code and for any number of times. That may reduce necessity of
        repeating code fragments as well as source code size and make the solved task easier to comprehend and solve. Unlike subprograms macros do
        not add extra run-time overhead and repeating usage of macros may significantly increase size of the resulting machine code. Macros supported
        by this assembler are.

        \subsection{MACROS}
        \textbf{Syntax:}\\
        {
            ~\\
            \usecodefont
            \verb'MACRO      [<parameter1>]  [,<parameter2>..]'\\
            \verb'    <macro source code>'\\
            \verb'ENDM  ; end of macro declaration '
        }\\

        {
            ~\\
            \usecodefont
            \verb'EXPAND        ; Expanding of macros allowed'\\
            \verb'NOEXPAND      ; Expanding of macros forbidden '\\
        }\\

        \begin{table}[h!]
            \begin{tabular}{|ll|}
                    \hline
                    MACRO      & Define a new macro \\
                    EXITM      & Exit macro  \\
                    ENDM       & End of macro definition \\
                    EXPAND     & After usage of this directive, expanding of macros is allowed.(turned on by default)\\
                    NOEXPAND   & After usage of this directive, no expanding of macros is allowed.\\
                    \hline
            \end{tabular}
            \caption{Macro comands}
        \end{table}
        \textbf{Description:}\\
        Standard macro, consiting of name, code and optional exit command. Macro can be expanded only after his declaration. You can use macro
        with no parameters  or unlimited number of parameters.\\
        \textbf{Examples:}\\
        This can be well demonstrated on examples:
        {
            ~\\
            \usecodefont\\
            \verb'abc           macro           ; Define named macro '\\
            \verb'      load    s2,s0'\\
            \verb'      add     s2,#1'\\
            \verb'      load    s1,s2'\\
            \verb'endm'\\\\
            \verb'abc           ; Expand macro "abc"  here'\\
            \verb'abc           ; Expand macro "abc"  here'\\\\            
            \verb'; This is the same as if you wrote this:'\\
            \verb'      load    s2,s0'\\
            \verb'      add     s2,#1'\\
            \verb'      load    s1,s2'\\
            \verb'      load    s2,s0'\\
            \verb'      add     s2,#1'\\
            \verb'      load    s1,s2'\\
        }
           
           Macro without parameters.
           
        {
            ~\\
            \usecodefont\\
            \verb'; Define macro named as "xyz" with two mandatory parameters'\\
            \verb'xyz       macro   foo, bar'\\
            \verb'          load    foo, #10h'\\
            \verb'          add     bar, #1'\\
            \verb'endm'\\\\
            \verb'xyz       s2,s3           ; Expand macro "xyz"  here'\\
            \verb'xyz       s5,s5           ; Expand macro "xyz"  here'\\\\
            \verb'; This is the same as if you wrote this:'\\
            \verb'; xyz     s2,s3'\\
            \verb'      load    s2, #10h'\\
            \verb'      add     s3, #1'\\
            \verb'; xyz     s5,s5'\\
            \verb'      load    s5, #10h'\\
            \verb'      add     s5, #1'\\
        }
        An example of named macro with two parameters.

        {
                ~\\
                \usecodefont\\        
            \verb'ijk           macro   foo'\\
            \verb'          add     s1,s0'\\
            \verb''\\
            \verb'          if    foo = 4d'\\
            \verb'              nop'\\
            \verb'          endif'\\
            \verb'          sub     s1, #foo'\\
            \verb'endm'\\\\
            \verb'ijk   5'\\
            \verb'ijk   4'\\\\
            \verb'; This is the same as if you wrote this:'\\
            \verb'      ; ijk   5'\\\\
            \verb'          add     s1,s0'\\
            \verb'          if    5 = 4d'\\
            \verb'              nop'\\
            \verb'          endif'\\
            \verb'          subb    s1,#5'\\
            \verb'      ; ijk   4'\\\\
            \verb'          add     s1,s0'\\
            \verb'          if    4 = 4d'\\
            \verb'              nop'\\
            \verb'          endif'\\
            \verb'          sub     s1,#4'\\
        }
        An exaple of named macro used with if statement


\section{Conditional Assembly}
        The aim of conditional assembly to to assemble certain parts of the code if and only if certain arithmetically expressed condition is met.
        This feature can prove useful particularly when the user want to make the code somehow ``configurable''. This assembler provides these instructions
        to work with conditional assembly:
        \begin{itemize}
                \setlength{\itemsep}{-3pt}
                \item IF <condition>
                \item IFN <condition>
                \item IFDEF <symbol>
                \item IFNDEF <symbol>
                \item ELSE
                \item ELSEIF <condition>
                \item ELSEIFN <condition>
                \item ELSEIFDEF <symbol>
                \item ELSEIFNDEF <symbol>
                \item ENDIF
        \end{itemize}

        This can be best demonstrated on an example:
                \begin{code}[h!]
                        \mysmallfont{}
                        {\color{highlight_constant}\verb'abc'}\verb'     '{\color{highlight_directive}\verb'equ'}\verb'     '{\color{highlight_unknown_base}\verb'14'}\verb'              '{\color{highlight_comment}\verb'; Assign number 14 to symbol abc'}\\
                        {\color{highlight_constant}\verb'xyz'}\verb'     '{\color{highlight_directive}\verb'equ'}\verb'     '{\color{highlight_unknown_base}\verb'10'}\verb'              '{\color{highlight_comment}\verb'; Assign number 10 to symbol abc'}\\
                        \verb''\\
                        {\color{highlight_directive}\verb'ifdef'}\verb' '{\color{highlight_constant}\verb'abc'}\verb'                       '{\color{highlight_comment}\verb';<--+ Assemble only if symbol abc has been defined'}\\
                        \verb'  '{\color{highlight_directive}\verb'if'}\verb' '{\color{highlight_symbol}\verb'('}\verb' '{\color{highlight_constant}\verb'abc'}\verb' '{\color{highlight_symbol}\verb'='}\verb' '{\color{highlight_unknown_base}\verb'13'}\verb' '{\color{highlight_symbol}\verb')'}\verb'               '{\color{highlight_comment}\verb';   | <--+ Assemble if 13 has been assigned to symbol abc'}\\
                        \verb'        '{\color{highlight_instruction}\verb'load'}\verb'     '{\color{highlight_sfr}\verb'a'}{\color{highlight_oper_sep}\verb','}\verb' '{\color{highlight_imm_bin}\verb'#01010101b'}\verb'  '{\color{highlight_comment}\verb';   |    |'}\\
                        \verb'  '{\color{highlight_directive}\verb'elseif'}\verb' '{\color{highlight_symbol}\verb'('}\verb' '{\color{highlight_constant}\verb'abc'}\verb' '{\color{highlight_symbol}\verb'='}\verb' '{\color{highlight_unknown_base}\verb'14'}\verb' '{\color{highlight_symbol}\verb')'}\verb'           '{\color{highlight_comment}\verb';   | <--+ Assemble if 14 has been assigned to symbol abc'}\\
                        \verb'        '{\color{highlight_instruction}\verb'load'}\verb'     '{\color{highlight_sfr}\verb'a'}{\color{highlight_oper_sep}\verb','}\verb' '{\color{highlight_imm_hex}\verb'#0aah'}\verb'       '{\color{highlight_comment}\verb';   |    |'}\\
                        \verb'  '{\color{highlight_directive}\verb'elseifn'}\verb' '{\color{highlight_symbol}\verb'('}\verb' '{\color{highlight_constant}\verb'abc'}\verb' '{\color{highlight_symbol}\verb'%'}\verb' '{\color{highlight_unknown_base}\verb'2'}\verb' '{\color{highlight_symbol}\verb')'}\verb'           '{\color{highlight_comment}\verb';   | <--+ Assemble if the value assigned to symbol abc is even'}\\
                        \verb'        '{\color{highlight_instruction}\verb'load'}\verb'     '{\color{highlight_sfr}\verb'a'}{\color{highlight_oper_sep}\verb','}\verb' '{\color{highlight_imm_constant}\verb'#abc'}\verb'        '{\color{highlight_comment}\verb';   |    |'}\\
                        \verb'  '{\color{highlight_directive}\verb'else'}\verb'                          '{\color{highlight_comment}\verb';   | <--+ Else ..'}\\
                        \verb'        '{\color{highlight_instruction}\verb'load'}\verb'     '{\color{highlight_sfr}\verb'a'}{\color{highlight_oper_sep}\verb','}\verb' '{\color{highlight_imm_oct}\verb'#377q'}\verb'       '{\color{highlight_comment}\verb';   |    |'}\\
                        \verb'  '{\color{highlight_directive}\verb'endif'}\verb'                         '{\color{highlight_comment}\verb';   | <--+'}\\
                        {\color{highlight_directive}\verb'elseifndef'}\verb' '{\color{highlight_constant}\verb'xyz'}\verb'                  '{\color{highlight_comment}\verb';<--+ Assemble if symbol xyz has NOT been defined'}\\
                        \verb'        '{\color{highlight_instruction}\verb'clrr'}\verb'     '{\color{highlight_sfr}\verb's1'}\verb'             '{\color{highlight_comment}\verb';   |'}\\
                        {\color{highlight_directive}\verb'else'}\verb'                            '{\color{highlight_comment}\verb';<--+ Else ...'}\\
                        \verb'  '{\color{highlight_directive}\verb'ifn'}\verb' '{\color{highlight_symbol}\verb'('}{\color{highlight_constant}\verb'xyz'}{\color{highlight_symbol}\verb' mod'}\verb' '{\color{highlight_unknown_base}\verb'2'}{\color{highlight_symbol}\verb')'}\verb'               '{\color{highlight_comment}\verb';   | <--+ Assemble if ( yxz modulo 2 ) is 0'}\\
                        \verb'        '{\color{highlight_instruction}\verb'load'}\verb'     '{\color{highlight_sfr}\verb'a'}{\color{highlight_oper_sep}\verb','}\verb' '{\color{highlight_imm_dec}\verb'#128d'}\verb'       '{\color{highlight_comment}\verb';   |    |'}\\
                        \verb'  '{\color{highlight_directive}\verb'endif'}\verb'                         '{\color{highlight_comment}\verb';   | <--+'}\\
                        {\color{highlight_directive}\verb'endif'}\verb'                           '{\color{highlight_comment}\verb';<--+'}\\
                        \verb''\\
                        {\color{highlight_instruction}\verb'jmp'}\verb'    '{\color{highlight_constant}\verb'$'}\verb'                       '{\color{highlight_comment}\verb'; Infinite loop'}\\
                        {\color{highlight_directive}\verb'end'}\verb'                            '{\color{highlight_comment}\verb'; End of assembly'}\\
                        \caption{An example of conditional assembly usage}
                \end{code}


                \clearpage
        \section{ERROR and WARNING messages}
        This chapter lists the error messages generated by MDS. The following sections
        include a brief description of the possible error messages along with a
        description of the error and any corrective actions you can take to avoid or
        eliminate the error. Errors terminate the assembly and generate a message that is displayed on
        the console. Warnings generate a message in the assembly listing file but do not terminate the assembly.
                \subsection{ERROR list}
                    \begin{description}
                    \item[Unable to open file] \hfill \\
                    The given file cannot be opened for some reason.
                    \item[Unable to write to file] \hfill \\
                    It is not possible to write into given file.
                    \item[Unable to save file] \hfill \\
                    The given file cannot be saved. Check if you have enough space on your disk.
                    \item[The resulting machine code is too big to be stored in a file]\hfill \\
                    Size of the resulting machine code is bigger, than free disk space.
                    \item[Some of the source code files were aparently changed during compilation]\hfill \\
                    Do not change source files during the compilation. Wait for compilation to be finished.
                    \item[User defined memory limit for program memory exceeded]\hfill \\
                    You have exceeded maximum program memory defined with directive LIMIT or project configuration.
                    \item[User defined memory limit for register file exceeded]\hfill \\
                    You have exceeded maximum number of working registers defined with directive LIMITor project configuration.
                    \item[User defined memory limit for Scratch Pad RAM exceeded]\hfill \\
                    You have exceeded maximum scratch pad RAM defined with directive LIMIT or project configuration.
                    \item[Instruction X requires operand \#Y to be of type(s) Z; while the given operand is of type: W] \hfill \\   %lllll
                    Wrong type of operand. 
                    \item[Macro not defined ] \hfill \\
                    The given macro has not been defined. You must define macro before you can use it. See chapter MACROS for more info.
                    \item[Too many arguments given, expecting at most X arguments] \hfill \\             
                    Too many arguments. Reduce number of given arguments.
                    \item[Attempting to use unavailable space in X memory at address: Y ] \hfill \\  
                    Desired memory space is not available.
                    \item[The last error was critical, compilation aborted] \hfill \\                   
                    Critical error has occured. Compilation cannot continue.
                    \item[Device not supported] \hfill \\
                    The given device is not supported. Please choose different device in project configuration.
                    \item[Device specification code is already loaded ] \hfill \\                       
                    You have already specified architecture in project configuration.
                    \item[Limit value X is not valid] \hfill \\
                    Invalid limit value. Viz. LIMIT directive chapter for valid values.
                    \item[Directive `LOCAL' cannot appear outside of macro definition ] \hfill \\   
                    Directive LOCAL must be only used inside of macro. Use different directive for symbol definition( EQU,SET etc.), or put it inside of macro.
                    \item[Directive EXITM' cannot apper outside macro definition] \hfill \\
                    The given directive is used to immediately exit macro. It does not make sense to use it differently.
                    \item[Maximum macro expansion level X reached  ] \hfill \\
                    Maximum macro expansion level reached. You can change your compiler settings and set bigger expansion level.
                    By default, macro expansion level is unlimited.
                    \item[Maximum number of WHILE directive iterations reached ] \hfill \\    
                    Maximum WHILE directive iterations reached. You can change your compiler settings and allow more iterations.
                    By default, number of iterations is unlimited.
                    \item[Maximum number of REPEAT directive iterations reached ] \hfill \\                     
                    Maximum REPEAT directive iterations reached. You can change your compiler settings and allow more iterations.
                    By default, number of iterations is unlimited.
                    \item[Instruction word is only 18 bits wide, value X trimmed to Y ] \hfill \\
                    You have exceeded instruction word length. Value has been trimmed to  appropriate length.
                    \item[Symbol already defined] \hfill \\
                    The given symbol has been already defined. Symbol cannot be defined more than one time.
                    \item[Symbol not defined: X ] \hfill \\
                    The given symbol has not been defined. Symbol has to be defined before usage.
                    \item[Symbol X already defined with type Y] \hfill \\
                    The given symbol has been already defined with type Y. Symbol cannot be defined more than one time.
                    \item[Undefined value ] \hfill \\
                    Undefined value. You need to specify the value.                       %mmmm
                    \item[Real numbers are not supported in assembler ] \hfill \\
                    Real numbers cannot be used on 8-bit processor.
                    \item[Undefined symbol: X ] \hfill \\
                    Symbol has not been defined. Define symbol before usage.
                    \item[This value is not valid inside of expression ] \hfill \\         %mmmmm
                    The given expresion contains forbidden value.
                    \item[Division by zero ] \hfill \\
                    Division by zero has been detected. It is not possible to divide with zero, therefore compilation is aborted.
                    \item[Unable to resolve this expression ] \hfill \\
                    The given expresion cannot be resolved. Check if expresion is syntactically right.
                    \item[Syntax not understood ] \hfill \\
                    There is syntax error in your source code.
                    \item[Character constant is too long ] \hfill \\
                    Character constant is too long. Check ASCII table for appropriate values.
                    \item[Unterminated string or character constant ] \hfill \\
                    Unterminated string or character constant. You probably forgot to end with ''.
                    \item[Unrecognized escape sequence: ] \hfill \\
                    Unrecognized escape sequence. Check ASCII table for appropriate values.
                    \item[No file name specified ] \hfill \\                                                                            %llll
                    File name has to be specified.
                    \item[Unable to open the specified file: X] \hfill \\
                    The given file cannot be opened for some reason.
                    \item[Unrecognized token:  ] \hfill \\                    % mas to tam dvakrat
                    Source code contains invalid characters.
                    \ldots
                    \end{description}

                 \subsection{WARNING list}
                    \begin{description}
                    \item[Maximum number of messages reached, suppressing compiler message generation] \hfill \\
                    Source code contains a big number of errors. Those errors were suppressed to prevent enormous size of code listing file.
                    \item[Redefinition of macro ] \hfill \\
                    The given macro has already been defined.
                    \item[Macro X will not be expanded because macro expansion has been disabled] \hfill \\
                    The given macro cannot be expanded, because macro expansion has been disabled by NOEXPAND directive.
                    You can use EXPAND directive to allow expansion again.
                    \item[Parameter X substituted for blank value ] \hfill \\     %llll
                    Macro expected input parameter. Compiler replaced it with blank parameter.
                    \item[Symbol X already declared as local ] \hfill \\
                    Symbol is already used as local inside of macro.   %llll
                    \item[Reusing already reserved space in X memory at address: Y] \hfill \\  %llll
                    Memory space is already defined. Make sure the collision will not occur.
                    \item[Limit value -1 means unlimited] \hfill \\
                    You can define limit values with LIMIT directive. Using -1 as directive argument, means unlimited.
                    \item[Symbol X declared as local but never used, declaration ignored] \hfill \\
                    The given local symbol has been declared, but never used. Declaration will be ignored.
                    \item[Comparing two immediate constants, result is always positive] \hfill \\
                    Comparing two immediate constants, result will be always same.
                    \item[Comparing two immediate constants, result is always negative] \hfill \\
                    Comparing two immediate constants, result will be always same.
                    \item[Sign overflow. Result is negative number lower than the lowest negative number representable in two's complement arithmetic by the given number of bits ] \hfill \\
                    Two's complement sign overflow.
                    \item[Result is negative number X, this will be represented as X-bit number in two's complement arithmetic] \hfill \\
                    Result is negative number. This will be represented as number in two's complement arithmetic.
                    \item[Value out of range, allowed range is [0,2] (trimmed to 3 bits) which makes it 4 ] \hfill \\
                    Value out of range. Adjust input value.                                                  
                    \item[Maximum number of messages reached, suppressing compiler message generation ] \hfill \\
                    Compiler is suppressing error messages generation to avoid massive code listing file size.
                    \item[File name contains a null character ] \hfill \\
                    Null character in file name is forbidden. Please change the name of the given file.
                    \ldots
                    \end{description}

        \section{Symbol table}
            Symbol table contains list of macros in your source code with additional informations.
            {
                ~\\
                \usecodefont\\
                \verb'  +-------------------//------------------//-----------------------+'\\
                \verb'  |  name  |  group  |  value   |  usage  |  type  |  declaration  |'\\
                \verb'  +-------------------//------------------//-----------------------+'\\
            }\\
            \begin{description}
             \item[NAME] Describes the name of symbol.
             \item[GROUP] Defines what given symbol is and how will compiler handle it. Compiler will warn you, if you for example want to load symbol
             defined as group "PORT" into register. Symbols can be one of the following types.
                \begin{itemize}
                 \item REGISTER: Symbol represents one of the internal registers.
                 \item PORT: Symbol should be used as PORT\_id indicator.
                 \item DATA: Symbol should be handled only as a scatch\-pad ram data.
                 \item EXPRESION: Symbol is defined as an expression, which is evaluated later.
                 \item LABEL: Symbol is label defining address in program memory.
                 \item NUMBER: Symbol does not have specified type.
                \end{itemize}
             \item[VALUE] Value which is represented by the symbol.
             \item[USAGE] If it was USED or NOT USED in your source code.
             \item[TYPE] Tells you some additional info.
                \begin{itemize}
                 \item IMPLICIT: Symbol is defined by default.
                 \item LOCAL: Local symbol can be only used in macro body. 
                 \item REDEFINABLE: Symbol can be redefined everywhere in the source code.
                 \item CONSTANT: Symbol cannot be redefined.
                \end{itemize}
             \item[DECLARATION] Information where is the symbol defined. Two scenarios. First can be location in your source code
             It consist of name of the file and line + column number with format: <nameoffile>:<firstlinenumber>.<columns>.<lastlinenumber>.
             Second is IMPLICIT, which means symbol is defined by default, not in your code.
            \end{description}

        \section{Macro table}
            Macro table contains list of macros in your source code with additional informations.
            {
                ~\\
                \usecodefont\\
                \verb'  +-------------------//----------------------+'\\
                \verb'  |  name  |  usage  |  type  |  declaration  |'\\
                \verb'  +-------------------//----------------------+'\\
            }\\
            \begin{description}
             \item[NAME] Describes the name of Macro.
             \item[USAGE] It tells you how many times Macro was USED or NOT USED in your source code. Compiler will add number of macro expansions.
             \item[TYPE] Tells you some additional info.
             \item[DECLARATION] Information where is the macro defined. Two scenarios. First can be location in your source code
             It consist of name of the file and line + column number with format: <nameoffile>:<firstlinenumber>.<columns>.<lastlinenumber>.
             Second is IMPLICIT, which means symbol is defined by default, not in your code.
            \end{description}
            
        \section{Mem File}
            Mem file contains program memory in special format. There is seventeen 4byte wide columns, first is starting with \@ and represents starting address.
            Every other position increments address by one. Unused memory is filled with zeroes.\\\\
            Example:
            {
                ~\\
                \usecodefont\\
                \verb'; Starting address 0x0000, sixteen OPcodes'\\
                \verb'@0000 000011F7 00001299 0000132E ... ... ... ... ... ... 00004577 00007789 000015A4'\\
                \verb'; Starting address 0x0040'\\
                \verb'@0040 000004DF 000047F4 00000000 ... ... ... ... ... ... 00000000 00000000 00000000'\\
                \verb'@0080 00000000 00000000 00000000 ... ... ... ... ... ... 00000000 00000000 00000000'\\
                \verb'@00C0 00000000 00000000 00000000 ... ... ... ... ... ... 00000000 00000000 00000000'\\
                \verb'@0100 00000000 00000000 00000000 ... ... ... ... ... ... 00000000 00000000 00000000'\\
                \verb'...'\\
                \verb'...'\\
                \verb'...'\\
                \verb'@3F80 000011F7 00001299 0000132E ... ... ... ... ... ... 00000000 00000000 00000000'\\
                \verb'@3FC0 000011F7 00001299 0000132E ... ... ... ... ... ... 00000000 00000000 00000000'\\
                \verb'; end of program memory'\\
            }
        \section{RawHex file}
             RawHex is very simple. File starts with OPcode of your first instruction at address 0x0, then it is followed by OPcode on address 0x1, 0x2
             and so on. If there is no instruction on a certain address, it is filled with zeroes.\\\\
             Example:
            {
                ~\\
                \usecodefont\\
                \verb'; Starting at address 0x0'\\
                \verb'011F7'\\
                \verb'01299'\\
                \verb'0132E'\\
                \verb'19101'\\
                \verb'00000'\\
                \verb'19201'\\
                \verb'00000'\\
                \verb'19301'\\
                \verb'00000'\\
                \verb'00000'\\
                \verb'00...'\\
                \verb'.....'\\
                \verb'...00'\\
                \verb'; end of program memory'\\
            }
        \section{Bin file}
        Bin file gives you direct access to program memory.   
        binarní programová paměť, big endian, 0x12345 > 16b,18b je rozdil 44  444   , po posledni pouzitou hodnotu

        \section{Motorola SRec format}
                Motorola S-records are a form of simple ASCII encoding for binary data.
            This format is commonly used for firmware uploads to GPSes, industrial
            robots, and other kinds of microcontroller-driven hardware. It has
            several convenient properties, including inspectability, easy editing
            with any text editor, and checksumming for verification of transmission
            across noisy serial lines. An S-record file consists of a sequence of specially formatted ASCII
            character strings. An S-record will be less than or equal to 78 bytes
            in length. The order of S-records within a file is of no significance and no
            particular order may be assumed.\\
            The general format of an S-record follows:
                    {
                        ~\\
                        \usecodefont\\
                        \verb'  +-------------------//------------------//-----------------------+'\\
                        \verb'  | type | count | address  |            data           | checksum |'\\
                        \verb'  +-------------------//------------------//-----------------------+'\\
                    }\\
                    
            \begin{description}
                \item[Type] A char[2] field. These characters describe the type of record (S0,S1, S2, S3, S5, S7, S8, or S9).

                \item[Count] A char[2] field. These characters when paired and interpreted as a hexadecimal value, display the count of remaining character pairs in the record.

                \item[Address]
                    A char[4,6, or 8] field. These characters grouped and interpreted
                    as a hexadecimal value, display the address at which the data field
                    is to be loaded into memory. The length of the field depends on the
                    number of bytes necessary to hold the address. A 2-byte address
                    uses 4 characters, a 3-byte address uses 6 characters, and a 4-byte
                    address uses 8 characters.

                \item[Data]
                    A char [0-64] field. These characters when paired and interpreted
                    as hexadecimal values represent the memory loadable data or
                    descriptive information.

                \item[Checksum]
                    A char[2] field. These characters when paired and interpreted as a
                    hexadecimal value display the least significant byte of the ones
                    complement of the sum of the byte values represented by the pairs
                    of characters making up the count, the address, and the data
                    fields.
            \end{description}

            Each record is terminated with a line feed. If any additional or
            different record terminator(s) or delay characters are needed during
            transmission to the target system it is the responsibility of the
            transmitting program to provide them.

            \subsection{Record types}
                \begin{description}
                \item[S0]
                    The type of record is S0 (0x5330). The address field is unused
                    and will be filled with zeros (0x0000). The header information
                    within the data field is divided into the following subfields.

                        1.  mname is char[20] and is the module name.

                        2.  ver is char[2] and is the version number.

                        3.  rev is char[2] and is the revision number.

                        4.  description is char[0-36] and is a text comment.

                        Each of the subfields is composed of ASCII bytes whose
                        associated characters, when paired, represent one byte
                        hexadecimal values in the case of the version and revision
                        numbers, or represent the hexadecimal values of the ASCII
                        characters comprising the module name and description.
                \item[S1]
                    The type of record field is S1 (0x5331). The address field is
                    interpreted as a 2-byte address. The data field is composed of
                    memory loadable data.
                \item[S2]
                    The type of record field is S2 (0x5332). The address field is
                    interpreted as a 3-byte address. The data field is composed of
                    memory loadable data.
                \item[S3]
                    The type of record field is S3 (0x5333). The address field is
                    interpreted as a 4-byte address. The data field is composed of
                    memory loadable data.
                \item[S5]
                    The type of record field is S5 (0x5335). The address field is
                    interpreted as a 2-byte value and contains the count of S1, S2, and
                    S3 records previously transmitted. There is no data field.
                \item[S7]
                    The type of record field is S7 (0x5337). The address field
                    contains the starting execution address and is interpreted as a
                    4-byte address. There is no data field.
                \item[S8]
                    The type of record field is S8 (0x5338). The address field
                    contains the starting execution address and is interpreted as a
                    3-byte address. There is no data field.
                \item[S9]
                    The type of record field is S9 (0x5339). The address field
                    contains the starting execution address and is interpreted as a
                    2-byte address. There is no data field.
                \end{description}

                \textbf{EXAMPLE}\\
                Shown below is a typical S-record format file.
                    {
                        ~\\
                        \usecodefont\\
                        \verb''\\
                        \verb'S00600004844521B'\\
                        \verb'S1130000285F245F2212226A000424290008237C2A'\\
                        \verb'S11300100002000800082629001853812341001813'\\
                        \verb'S113002041E900084E42234300182342000824A952'\\
                        \verb'S107003000144ED492'\\
                        \verb'S5030004F8'\\
                        \verb'S9030000FC'\\
                    }

                The file consists of one S0 record, four S1 records, one S5 record and
                an S9 record.

                \subsubsection{The S0 record is comprised as follows:}
                    \begin{itemize}
                        \item S0 S-record type S0, indicating it is a header record.
                        \item 06 Hexadecimal 06 (decimal 6), indicating that six character pairs (or ASCII bytes) follow.
                        \item 00 00 Four character 2-byte address field, zeroes in this example.
                        \item 48 44 52 ASCII H, D, and R - "HDR".
                        \item 1B The checksum.
                    \end{itemize}

                \subsubsection{The first S1 record is comprised as follows:}
                    \begin{itemize}
                        \item S1 S-record type S1, indicating it is a data record to be loaded at a 2-byte address.
                        \item 13 Hexadecimal 13 (decimal 19), indicating that nineteen character pairs, representing a 2 byte address, 16 bytes of binary data, and a 1 byte checksum, follow.
                        \item 00 00 Four character 2-byte address field; hexidecimal address 0x0000, where the data which follows is to be loaded.
                        \item 28 5F 24 5F 22 12 22 6A 00 04 24 29 00 08 23 7C Sixteen character pairs representing the actual binary data.
                        \item 2A The checksum.
                    \end{itemize}
                    
                \subsubsection{The second and third S1 records are comprised as follows:}
                
                    The second and third S1 records each contain 0x13 (19) character pairs
                    and are ended with checksums of 13 and 52, respectively. The fourth S1
                    record contains 07 character pairs and has a checksum of 92.

                \subsubsection{The S5 record is comprised as follows:}
                    \begin{itemize}
                        \item S5 S-record type S5, indicating it is a count record indicating the number of S1 records
                        \item 03 Hexadecimal 03 (decimal 3), indicating that three character pairs follow.
                        \item 00 04 Hexadecimal 0004 (decimal 4), indicating that there are four data records previous to this record.
                        \item F8 The checksum.
                    \end{itemize}
                \subsubsection{The S9 record is comprised as follows:}
                    \begin{itemize}
                        \item S9 S-record type S9, indicating it is a termination record.
                        \item 03 Hexadecimal 03 (decimal 3), indicating that three character pairs follow.
                        \item 00 00 The address field, hexadecimal 0 (decimal 0) indicating the starting execution address.
                        \item FC The checksum.
                    \end{itemize}

        \section{Verilog file}
        \section{VHDL file}
        \section{Generated VHDL and Verilog files}
            As you know, the PicoBlaze microcontroller is primarily designed for use in a VHDL design flow.
            MDS will generate all necessary files, that are needed for
            implementation in FPGA. Basically the MDS replaces instances on
            {INIT\_XX}, {INITP\_XX} and {INIT64\_X}, {INIT128\_X}, {INIT256\_X} by constant strings with the appropriate values, similar to the kcpsmX tools of Xilinx.
            The PicoBlaze program ROM is used within a VHDL design flow. The PicoBlaze assembler
            generates a VHDL and VERILOG file in which a block RAM and its initial contents are defined. This
            file can be used for both logic synthesis and simulation of the processor.
            You need to declare component in your VHDL or VERILOG design and instantiate.
        \section{List File Format}
                Code listing serves as an additional information about the assembled code and the progress of the assembly process. It contains information about all symbols defined in the code. Where and how were they were defined, what are their values and whether they were used in the code. Also detailed information about all macros defined in the code and/or expanded in the code. Conditional compilation configuration, instruction OP codes, address space reservations, inclusion of code from another files. And all warnings, errors and notes generated during the assembly by the assembler. There are assembler control sequences which alters formatting of the code listing file. These control sequences will be discussed here. Format of code listing generated by this assembler is very similar to the one generated Metalink(R) ASM51.
                \begin{code}[h]
                        \mysmallfont{}
                        \verb'demo0                                                                                                                   '{\color{highlight_macro}\verb'PAGE'}\verb' '{\color{highlight_unknown_base}\verb'1'}\\
                        {\color{highlight_lst_line}\verb'                         1'}\verb'     '{\color{highlight_comment}\verb'; MDS Demostration code'}\\
                        {\color{highlight_lst_line}\verb'                         6'}\verb'             '{\color{highlight_directive}\verb'org'}\verb'     '{\color{highlight_hex}\verb'0h'}\\
                        {\color{highlight_lst_line}\verb'                         7'}\\
                        {\color{highlight_lst_address}\verb'0000'}{\color{highlight_lst_code}\verb' 08'}{\color{highlight_lst_line}\verb'                  8'}\verb'     '{\color{highlight_label}\verb'main:'}\verb'   '{\color{highlight_instruction}\verb'inc'}\verb'     '{\color{highlight_sfr}\verb's0'}\\
                        {\color{highlight_lst_address}\verb'0001'}{\color{highlight_lst_code}\verb' 06'}{\color{highlight_lst_line}\verb'                  9'}\verb'             '{\color{highlight_instruction}\verb'inc'}\verb'     '{\color{highlight_indirect}\verb's0'}\\
                        {\color{highlight_lst_address}\verb'0002'}{\color{highlight_lst_code}\verb' B87FFB'}{\color{highlight_lst_line}\verb'             10'}\verb'             '{\color{highlight_instruction}\verb'djnz'}\verb'    '{\color{highlight_sfr}\verb's0'}{\color{highlight_oper_sep}\verb','}{\color{highlight_constant}\verb'main'}\\
                        {\color{highlight_lst_address}\verb'0005'}{\color{highlight_lst_code}\verb' 7800'}{\color{highlight_lst_line}\verb'               11'}\verb'             '{\color{highlight_instruction}\verb'load'}\verb'     '{\color{highlight_sfr}\verb's0'}{\color{highlight_oper_sep}\verb','}\verb' '{\color{highlight_imm_dec}\verb'#0d'}\\
                        {\color{highlight_lst_address}\verb'0007'}{\color{highlight_lst_code}\verb' 80F7'}{\color{highlight_lst_line}\verb'               12'}\verb'             '{\color{highlight_instruction}\verb'jmp'}\verb'    '{\color{highlight_constant}\verb'main'}\\
                        {\color{highlight_lst_line}\verb'                        13'}\\
                        {\color{highlight_lst_line}\verb'                        14'}\verb'             '{\color{highlight_directive}\verb'end'}\\
                        {\color{highlight_lst_msg}\verb'ASSEMBLY COMPLETE,'}\verb' NO ERRORS FOUND, NO WARNINGS'\\
                        \caption{A simple code listing}
                \end{code}
                Code listing contains entire source code which was assembled but with each line prefixed with line number and some additional information which will be explained later. Besides the original code there is also table of symbols defined during the assembly unless it was turned off. Code listing is divided into pages separated by form feed character, this behavior may be altered by certain assembler control sequences as well as page height and width.

                Each line of code listing which contains original source code line may contain beside line number also some additional information regarding the compilation of the given line of code. Such a additional information might look like this and is composed of these parts:

                \begin{code}[h]
                        \mysmallfont{}
                        \verb'  '\texttt{\colorbox{Lavender}{0055}}\verb'                   '\texttt{\colorbox{Goldenrod}{18}}\verb'      '\texttt{\colorbox{Gray}{X      data     55h}} \\
                        \texttt{\colorbox{Apricot}{0014}}\verb' '\texttt{\colorbox{GreenYellow}{1122}}\verb'       '\texttt{\colorbox{LimeGreen}{=1}}\verb'     '\texttt{\colorbox{Goldenrod}{33}}\verb'      '\texttt{\colorbox{Gray}{l:     inc      s0}} \\
                        \verb'                           '\texttt{\colorbox{Goldenrod}{35}}\verb' '\texttt{\colorbox{ProcessBlue}{+1}}\verb'   '\texttt{\colorbox{Gray}{abc     ; Expand macro ``abc'' here}} \\
                        \texttt{\colorbox{Apricot}{001E}}\verb' '\texttt{\colorbox{GreenYellow}{E580}}\verb'               '\texttt{\colorbox{Goldenrod}{36}}\verb' '\texttt{\colorbox{ProcessBlue}{+1}}\verb'  '\texttt{\colorbox{Gray}{                LOAD     s1, s0}} \\
                        \texttt{\colorbox{Apricot}{0020}}\verb' '\texttt{\colorbox{GreenYellow}{F410}}\verb'               '\texttt{\colorbox{Goldenrod}{37}}\verb' '\texttt{\colorbox{ProcessBlue}{+1}}\verb'  '\texttt{\colorbox{Gray}{                SR0     s1}} \\
                        \texttt{\colorbox{Apricot}{0021}}\verb' '\texttt{\colorbox{GreenYellow}{F590}}\verb'               '\texttt{\colorbox{Goldenrod}{38}}\verb' '\texttt{\colorbox{ProcessBlue}{+1}}\verb'  '\texttt{\colorbox{Gray}{                LOAD     s2, s1}} \\\\
                        \colorbox{Goldenrod}{\color{Goldenrod}X} Line number \\
                        \colorbox{LimeGreen}{\color{LimeGreen}X} Level of file inclusion \\
                        \colorbox{ProcessBlue}{\color{ProcessBlue}X} Level of macro expansion \\
                        \colorbox{Apricot}{\color{Apricot}X} Address in code memory \\
                        \colorbox{GreenYellow}{\color{GreenYellow}X} Machine code or another value to be stored in the code memory \\
                        \colorbox{Lavender}{\color{Lavender}X} Value of a symbol \\
                        \colorbox{Gray}{\color{Gray}X} Original line \\

                        \caption{Explanation code listing format}
                \end{code}

                \begin{code}[h]
                        \mysmallfont{}
                        \verb'complicated_lst                                                                                                         '{\color{highlight_macro}\verb'PAGE'}\verb' '{\color{highlight_unknown_base}\verb'1'}\\
                        {\color{highlight_lst_number}\verb'  001C'}{\color{highlight_lst_line}\verb'               1'}\verb'     '{\color{highlight_constant}\verb'abc'}\verb'     '{\color{highlight_directive}\verb'equ'}\verb'     '{\color{highlight_symbol}\verb'('}\verb' '{\color{highlight_unknown_base}\verb'14'}\verb' '{\color{highlight_symbol}\verb'*'}\verb' '{\color{highlight_unknown_base}\verb'2'}\verb' '{\color{highlight_symbol}\verb')'}\verb'      '{\color{highlight_comment}\verb'; Define symbol abc'}\\
                        {\color{highlight_lst_line}\verb'                     2'}\verb'             '{\color{highlight_directive}\verb'org'}\verb'     '{\color{highlight_unknown_base}\verb'0'}\verb'               '{\color{highlight_comment}\verb'; Code at address 0'}\\
                        {\color{highlight_lst_line}\verb'                     3'}\\
                        {\color{highlight_lst_include}\verb'             =1'}{\color{highlight_lst_line}\verb'      4'}\verb'             '{\color{highlight_directive}\verb'include'}\verb' '{\color{highlight_string}\verb''\verb"'"\verb'my_macros.asm'\verb"'"\verb' '{\color{highlight_comment}\verb'; Include my_macros.asm'}}\\
                        {\color{highlight_lst_include}\verb'             =1'}{\color{highlight_lst_line}\verb'      5'}\verb'     '{\color{highlight_comment}\verb'; This is the beginning of file my_macros.asm'}\\
                        {\color{highlight_lst_include}\verb'             =1'}{\color{highlight_lst_line}\verb'      6'}\verb'     '{\color{highlight_macro}\verb'my_cpl'}\verb'  '{\color{highlight_directive}\verb'macro'}\verb'   '{\color{highlight_constant}\verb'foo'}\\
                        {\color{highlight_lst_include}\verb'             =1'}{\color{highlight_lst_line}\verb'      7'}\verb'             '{\color{highlight_instruction}\verb'load'}\verb'     '{\color{highlight_sfr}\verb's3'}{\color{highlight_oper_sep}\verb','}\verb' '{\color{highlight_constant}\verb'foo'}\\
                        {\color{highlight_lst_include}\verb'             =1'}{\color{highlight_lst_line}\verb'      8'}\verb'             '{\color{highlight_instruction}\verb'add'}\verb'     '{\color{highlight_sfr}\verb's3'}\\
                        {\color{highlight_lst_include}\verb'             =1'}{\color{highlight_lst_line}\verb'      9'}\verb'             '{\color{highlight_instruction}\verb'load'}\verb'     '{\color{highlight_constant}\verb'foo'}{\color{highlight_oper_sep}\verb','}\verb' '{\color{highlight_sfr}\verb's3'}\\
                        {\color{highlight_lst_include}\verb'             =1'}{\color{highlight_lst_line}\verb'     10'}\verb'     '{\color{highlight_directive}\verb'endm'}\\
                        {\color{highlight_lst_include}\verb'             =1'}{\color{highlight_lst_line}\verb'     11'}\verb'     '{\color{highlight_comment}\verb'; This is the end of file my_macros.asm'}\\
                        {\color{highlight_lst_line}\verb'                    12'}\\
                        {\color{highlight_lst_line}\verb'                    13'}{\color{highlight_lst_macro}\verb' +1'}\verb'  '{\color{highlight_label}\verb'main:'}\verb'   '{\color{highlight_macro}\verb'my_cpl'}\verb'  '{\color{highlight_sfr}\verb's0'}\verb'          '{\color{highlight_comment}\verb'; Expand macro my_cpl here'}\\
                        {\color{highlight_lst_address}\verb'0000'}{\color{highlight_lst_code}\verb' E580'}{\color{highlight_lst_line}\verb'           14'}{\color{highlight_lst_macro}\verb' +1'}\verb'                  '{\color{highlight_instruction}\verb'load'}\verb'     '{\color{highlight_sfr}\verb's1'}{\color{highlight_oper_sep}\verb','}\verb' '{\color{highlight_sfr}\verb's0'}\\
                        {\color{highlight_lst_address}\verb'0002'}{\color{highlight_lst_code}\verb' F4'}{\color{highlight_lst_line}\verb'             15'}{\color{highlight_lst_macro}\verb' +1'}\verb'                  '{\color{highlight_instruction}\verb'add'}\verb'     '{\color{highlight_sfr}\verb's1'}\\
                        {\color{highlight_lst_address}\verb'0003'}{\color{highlight_lst_code}\verb' F580'}{\color{highlight_lst_line}\verb'           16'}{\color{highlight_lst_macro}\verb' +1'}\verb'                  '{\color{highlight_instruction}\verb'load'}\verb'     '{\color{highlight_sfr}\verb's0'}{\color{highlight_oper_sep}\verb','}\verb' '{\color{highlight_sfr}\verb's1'}\\
                        {\color{highlight_lst_address}\verb'0005'}{\color{highlight_lst_code}\verb' 80F9'}{\color{highlight_lst_line}\verb'           17'}\verb'             '{\color{highlight_instruction}\verb'jmp'}\verb'    '{\color{highlight_constant}\verb'main'}\verb'        '{\color{highlight_comment}\verb'; Jump back to label main'}\\
                        {\color{highlight_lst_line}\verb'                    18'}\verb'             '{\color{highlight_directive}\verb'end'}\verb'                 '{\color{highlight_comment}\verb'; End of assembly'}\\
                        {\color{highlight_lst_msg}\verb'ASSEMBLY COMPLETE,'}\verb' NO ERRORS FOUND, NO WARNINGS'\\
                        \caption{A more complicated example of code listing}
                \end{code}

        \section{Specification of Intel(R) 8 HEX Format}
                Intel(R) 8 HEX is a popular object file format capable of containing up to
       64kB of data. Hex files have usually extension .hex or .ihx. These files are text files
       consisting of a sequence of records, each line line can contain at most one record.
       Records starts with ``:'' (colon) character at the beginning of the line and ends by
       end of the line. Everything else besides records should be ignored. Records consist
       of a sequence of 8-bit hexadecimal numbers (e.g. ``a2'' or ``8c''). These numbers are
       divided into ``fields'' with different meaning, see the example below.

                \begin{code}[h]
                        \caption{An example of an Intel(R) 8 hex code}
                        \mysmallfont{}
                \texttt{\colorbox{Goldenrod}{:}\colorbox{green}{0F}\colorbox{blue}{0000}\colorbox{Apricot}{00}\colorbox{GreenYellow}{E580F4F590E580F4F590E580F4F590}\colorbox{Lavender}{57}}\\
                        \texttt{\colorbox{Goldenrod}{:}\colorbox{green}{0F}\colorbox{blue}{000F}\colorbox{Apricot}{00}\colorbox{GreenYellow}{E580F4F590E580F4F590E580F4F590}\colorbox{Lavender}{48}}\\
                        \texttt{\colorbox{Goldenrod}{:}\colorbox{green}{0F}\colorbox{blue}{001E}\colorbox{Apricot}{00}\colorbox{GreenYellow}{E580F4F590E580F4F590E580F4F590}\colorbox{Lavender}{39}}\\
                        \texttt{\colorbox{Goldenrod}{:}\colorbox{green}{10}\colorbox{blue}{002D}\colorbox{Apricot}{00}\colorbox{GreenYellow}{E580F4F5907410B3758010B2907410B3}\colorbox{Lavender}{30}}\\
                        \texttt{\colorbox{Goldenrod}{:}\colorbox{green}{10}\colorbox{blue}{003D}\colorbox{Apricot}{00}\colorbox{GreenYellow}{758010B2902694052600940426940526}\colorbox{Lavender}{0A}}\\
                        \texttt{\colorbox{Goldenrod}{:}\colorbox{green}{10}\colorbox{blue}{004D}\colorbox{Apricot}{00}\colorbox{GreenYellow}{00940426009404269405E580F4F59026}\colorbox{Lavender}{8A}}\\
                        \texttt{\colorbox{Goldenrod}{:}\colorbox{green}{0B}\colorbox{blue}{005D}\colorbox{Apricot}{00}\colorbox{GreenYellow}{009404269405E580F4F590}\colorbox{Lavender}{63}}\\
                        \texttt{\colorbox{Goldenrod}{:}\colorbox{green}{00}\colorbox{blue}{0000}\colorbox{Apricot}{01}\colorbox{Lavender}{FF}}\\\\
                        \colorbox{Goldenrod}{\color{Goldenrod}X} Start code\\
                        \colorbox{green}{\color{green}X} Byte count\\
                        \colorbox{blue}{\color{blue}X} Address\\
                        \colorbox{Apricot}{\color{Apricot}X} Record type\\
                        \colorbox{GreenYellow}{\color{GreenYellow}X} Data\\
                \colorbox{Lavender}{\color{Lavender}X} Checksum (two's complement of 8-bit sum of entire record, except for the start code and the checksum itself)
        \end{code}

    \section{Suported instructions}
        MDS macro assembler supports multiple instruction syntax. You can use, for example, LOAD as well as LD. This section contains
        list of all supported instructions. For more informations about those instructions, see official PicoBlaze manual.\\

        \subsection{Program Control Group}
            "X" and "Y" refer to the definition of the storage registers "s" in the range 0 to F.\\
            "\#kk" represents a constant value in the range 00 to FF.\\
            "aaa" represents an address in the range 000 to 3FF.\\
            "pp" represents a port address in the range 00 to FF.\\
            "ss" represents an internal storage address in the range 00 to 3F.\\
            \subsubsection{JUMP}
                Instruction JUMP will load PC with "aaa" address. The JUMP instruction has no effect on the status of the flags.\\
                \textbf{JUMP} aaa\\
                \textbf{JUMP} Z,aaa\\
                \textbf{JUMP} NZ,aaa\\
                \textbf{JUMP} C,aaa\\
                \textbf{JUMP} NC,aaa\\

            \subsubsection{CALL}
                T"aaa" - call address. Instruction can be conditional.\\
                \textbf{CALL} aaa\\
                \textbf{CALL} Z,aaa\\
                \textbf{CALL} NZ,aaa\\
                \textbf{CALL} C,aaa\\
                \textbf{CALL} NC,aaa\\

            \subsubsection{RETURN, RET}
                Return from subroutine. Can be conditional.\\
                \textbf{RETURN}\\
                \textbf{RET}\\
                \textbf{RETURN} Z\\
                \textbf{RET} Z\\
                \textbf{RETURN} NZ\\
                \textbf{RET} NZ\\
                \textbf{RETURN} C\\
                \textbf{RET} C\\
                \textbf{RETURN} NC\\
                \textbf{RET} NC\\
                \textbf{RETURNI ENABLE}\\
                \textbf{RETURNI DISABLE}\\

        \subsection{Arithmetic Group}
            "X" and "Y" refer to the definition of the storage registers "s" in the range 0 to F.\\
            "\#kk" represents a constant value in the range 00 to FF.\\
            "aaa" represents an address in the range 000 to 3FF.\\
            "pp" represents a port address in the range 00 to FF.\\
            "ss" represents an internal storage address in the range 00 to 3F.\\
        \subsubsection{ADD, ADDCY}
            The ADD instruction performs an 8-bit addition of two operands. Can use constants or registers.\\
            \textbf{ADD} sX,\#kk\\
            \textbf{ADDCY} sX,\#kk\\
            \textbf{ADD} sX,sY\\
            \textbf{ADDCY} sX,sY\\

        \subsubsection{COMPARE, CMP}
            The COMPARE instruction performs an 8-bit subtraction of two operands Unlike the "SUB" instruction, the result of the operation is
            discarded and only the flags are affected. This instruction updates flags\\
            \textbf{COMPARE} sX,\#kk\\
            \textbf{COMPARE} sX,sY\\
            \textbf{CMP}     sX,\#kk\\
            \textbf{CMP}     sX,sY\\

        \subsubsection{SUB}
            The SUB instruction performs an 8-bit subtraction of two operands. This instruction updates flags\\
            \textbf{SUB} sX,\#kk\\
            \textbf{SUB} sX,sY\\
        \subsubsection{SUBCY}
            \textbf{SUBCY} sX,\#kk\\
            \textbf{SUBCY} sX,sY\\

        \subsection{Interrupt group}
            "X" and "Y" refer to the definition of the storage registers "s" in the range 0 to F.\\
            "\#kk" represents a constant value in the range 00 to FF.\\
            "aaa" represents an address in the range 000 to 3FF.\\
            "pp" represents a port address in the range 00 to FF.\\
            "ss" represents an internal storage address in the range 00 to 3F.\\
        \subsubsection{RETURNI, RETIE, RETID}
            \textbf{RETURNI ENABLE}\\
            \textbf{RETIE}\\
            \textbf{RETID}\\
        \subsubsection{ENABLE INTERRUPT, ENA, DIS}
            \textbf{ENABLE INTERRUPT}\\
            \textbf{DISABLE INTERRUPT}\\
            \textbf{ENA}\\
            \textbf{DIS}\\
        \subsection{Logical Group}
            "X" and "Y" refer to the definition of the storage registers "s" in the range 0 to F.\\
            "\#kk" represents a constant value in the range 00 to FF.\\
            "aaa" represents an address in the range 000 to 3FF.\\
            "pp" represents a port address in the range 00 to FF.\\
            "ss" represents an internal storage address in the range 00 to 3F.\\
        \subsubsection{LOAD, LD}
            The LOAD instruction provides a method for specifying the contents of any register. The new value can be a constant, or the
            contents of any other register. The LOAD instruction has no effect on the status of the flags.\\
            \textbf{LOAD} sX,\#kk\\
            \textbf{LOAD} sX,sY\\
            \textbf{LD} sX,\#kk\\
            \textbf{LD} sX,sY\\
        \subsubsection{STAR}
            Apart from bank "A" being the default on power up or following a reset you are completely free to select back "A" or bank "B" as an when you wish using the
            REGBANK instruction. All instructions only operate on the registers in the actively selected bank which preserves the values in the inactive bank.\\
            \textbf{STAR} sX,sY\\
        \subsubsection{OR}
            The "OR" instructions perform the bit-wise logical OR operation.
            The zero flag (Z) will be set if all 8-bits of the result returned to "sX" are zero.
            The carry flag (C) will be cleared (C=0) in all cases.\\
                \textbf{OR} sX,sY\\
                \textbf{OR} sX,\#kk\\

        \subsubsection{XOR}
            The "XOR" instructions perform the bit\-wise logical exclusive-OR operation.
                The zero flag (Z) will be set if all 8-bits of the result returned to "sX" are zero.
            The carry flag (C) will be cleared (C=0) in all cases.\\
                \textbf{XOR} sX,\#kk\\
                \textbf{XOR} sX,sY\\

        \subsubsection{AND}
            The first operand must specify a register "sX" whose value provides one input to the AND operation and in to which the result is returned.
            The second operand defines the second input to the AND operation and can either be an 8-bit constant \#kk\ or a register sY.
            The zero flag (Z) will be set if all 8-bits of the result returned to sX are zero.
            The carry flag (C) will be cleared (C=0) in all cases.\\
                \textbf{AND} sX,\#kk\\
                \textbf{AND} sX,sY\\

        \subsubsection{TEST}
            The "TEST" instructions are similar to the "AND" instructions in that a bit-wise logical AND operation is performed. However, the actual result is discarded and
            only the flags are updates to reflect the temporary 8-bit. The zero flag (Z) will be set if all 8-bits of the temporary result are zero.
            The carry flag (C) will be set if the temporary result contains an odd number of bits set to "1" (the exclusive-OR of the 8-bit temporary result).\\
                \textbf{TEST} sX,sY\\
                \textbf{TEST} sX,\#kk\\
        \subsubsection{TESTCY}
            The "TESTCY" instructions are primarily intended as an extension to the basic "TEST" instructions in order to support testing and odd parity calculation of
            values more than 8-bits.\\
            \textbf{TESTCY} sX,sY\\
            \textbf{TESTCY} sX,\#kk\\
        \subsection{Shift and Rotate Group}
            "X" and "Y" refer to the definition of the storage registers "s" in the range 0 to F.\\
            "\#kk" represents a constant value in the range 00 to FF.\\
            "aaa" represents an address in the range 000 to 3FF.\\
            "pp" represents a port address in the range 00 to FF.\\
            "ss" represents an internal storage address in the range 00 to 3F.\\
                \subsubsection{SR}
                    \textbf{SR0} sX\\
                    \textbf{SR1} sX\\
                    \textbf{SRX} sX\\
                    \textbf{SRA} sX\\
                \subsubsection{RR, RL}
                    \textbf{RR}  sX\\
                    \textbf{RL}  sX\\
                \subsubsection{SL}
                    \textbf{SL0} sX\\
                    \textbf{SL1} sX\\
                    \textbf{SLX} sX\\
                    \textbf{SLA} sX\\
        \subsection{Storage group}
            "X" and "Y" refer to the definition of the storage registers "s" in the range 0 to F.\\
            "\#kk" represents a constant value in the range 00 to FF.\\
            "aaa" represents an address in the range 000 to 3FF.\\
            "pp" represents a port address in the range 00 to FF.\\
            "ss" represents an internal storage address in the range 00 to 3F.\\
        \subsubsection{STORE}
            The store instructions write the contents of a register "sX" into the scratch pad memory (SPM).\\
                \textbf{STORE} sX,ss\\
                \textbf{STORE} sX,@sY\\

        \subsubsection{FETCH}
            The fetch instructions read the contents of a location of scratch pad memory (SPM) into a register "sX"\\
                \textbf{FETCH} sX,ss\\
                \textbf{FETCH} sX,@sY\\

        \subsection{Input output group}
            "X" and "Y" refer to the definition of the storage registers "s" in the range 0 to F.\\
            "\#kk" represents a constant value in the range 00 to FF.\\
            "aaa" represents an address in the range 000 to 3FF.\\
            "pp" represents a port address in the range 00 to FF.\\
            "ss" represents an internal storage address in the range 00 to 3F.\\
        \subsubsection{INPUT, IN}
            An "INPUT" instruction enables to read information from the from your hardware design into a register "sX" using a general purpose input port.\\
                \textbf{INPUT}      sX,pp\\
                \textbf{INPUT}      sX,@sY\\
                \textbf{IN}         sX,pp\\
                \textbf{IN}         sX,@sY\\
        \subsubsection{OUTPUT, OUT}
            An "OUTPUT" instruction is used to transfer information from a register "sX" to a general purpose output port specified by an 8-bit constant value "pp" or the
            contents of another register "@sY".\\
                \textbf{OUTPUT}     sX,pp\\
                \textbf{OUTPUT}     sX,@sY\\
                \textbf{OUT}        sX,pp\\
                \textbf{OUT}        sX,@sY\\
        \subsubsection{OUTPUTK, OUTK}
            The first operand is the 8-bit constant value "\#kk". "p" is port\_id[0:3].\\
                \textbf{OUTPUTK}     \#kk,p\\
                \textbf{OUTPUTK}     \#kk,@sY\\
                \textbf{OUTK}        \#kk,p\\
                \textbf{OUTK}        \#kk,@sY\\


\section{Command line tools}
    Assembler, Disassembler, and Assembler Translator may also be invoked from command line and therefore used in your scripts.
    On Linux versions there is also man page for each one of them.
    \subsection{Assembler}
        \subsubsection{Description}
        MDS-compiler is macro-assembler for PicoBlaze soft-core processors. This tool takes one or more source code files and produces compiled machine code file usable in JTAG loaders, processors
        simulators, and similar tools; along with these files containing compiled machine code compiler also produces extensive debugging
        output. MDS-compiler is made to run fast and extensively tested for greater reliability, it feature set includes various special
        macros and user defined macros support making it one of the world most advanced assemblers available on the market today for PicoBlaze
        soft-core processors.\\

        USAGE:
        {
            ~\\
            \usecodefont
            \verb'mds-compiler  <OPTIONS>  [ -- ] [ source-file ...  ]'\\
        }
        \subsubsection{Options}
            {
            ~\\
            \usecodefont

            \verb'--arch, -a <architecture>'\\
            }
            Specify target architecture, supported architectures are: \textbf{PicoBlaze}
            {
            ~\\
            \usecodefont

            \verb'--plang, -p <programming language>'\\
            }
            Specify programming language, supported languages are: \textbf{ASM:} assembly language
            {
            ~\\
            \usecodefont

            \verb'--hex, -x <intel HEX-file>'\\
            }
            Specify output file with machine code generated as a result of compilation, data will be stored in Intel 8 Hex format.
            {
            ~\\
            \usecodefont

            \verb'--dbg, -d <MDS-native-debug-file>'\\
            }
            Specify output file with code for MCU simulator and other debugging tools.
            {
            ~\\
            \usecodefont

            \verb'--srec <Motorola-S-REC-file>'\\
            }
            Specify output file with machine code generated as a result of compilation, data will be stored in Motorola S-record format.
            {
            ~\\
            \usecodefont

            \verb'--srec --binary <binary-file>'\\
            }
            Specify output file with machine code generated as a result of compilation, data will be stored in raw binary format.
            {
            ~\\
            \usecodefont

            \verb'--lst, -l <code-listing>'\\
            }
            Specify output file where code listing generated during compilation will be stored.
            {
            ~\\
            \usecodefont

            \verb'--mtable, -m <table-of-macros>'\\
            }
            Specify file in which the compiler will put table of macros defined in your code.
            {
            ~\\
            \usecodefont

            \verb'--stable, -s <table-of-symbols>'\\
            }
            Specify file in which the compiler will put table of symbols defined in your code.
            {
            ~\\
            \usecodefont

            \verb'--help, -h'\\
            }
            Print help message.
             {
            ~\\
            \usecodefont

            \verb'--version, -V'\\
            }
            Print compiler version and exit.
             {
            ~\\
            \usecodefont

            \verb'--check, -c'\\
            }
            Do not perform the actual compilation, do only lexical and syntax analysis of the the provided source code and exit.
             {
            ~\\
            \usecodefont

            \verb'--no-backup'\\
            }
            Don't generate backup files.\\
             {
            ~\\
            \usecodefont

            \verb'--brief-msg'\\
            }
            Print only unique messages.
             {
            ~\\
            \usecodefont

            \verb'--no-strict'\\
            }
            Disable certain error and warning messages.
             {
            ~\\
            \usecodefont

            \verb'--no-warnings'\\
            }
            Do not print any warnings.
             {
            ~\\
            \usecodefont

            \verb'--no-errors'\\
            }
            Do not print any errors.
             {
            ~\\
            \usecodefont

            \verb'--no-remarks'\\
            }
            Do not print any remarks.
             {
            ~\\
            \usecodefont

            \verb'--silent'\\
            }
            Do not print any warnings, errors, or any other messages, stay completely silent.
             {
            ~\\
            \usecodefont

            \verb'--include, -I <directory>'\\
            }
            Add directory where the compiler will search for include files.
             {
            ~\\
            \usecodefont

            \verb'--dev, -D <device>'\\
            }
            Specify exact target device, options are:
            For PicoBlaze : \textbf{kcpsm1, kcpsm1cpld, kcpsm2, kcpsm3 and kcpsm6}
            {
            ~\\
            \usecodefont

            \verb'--precompile, -P <.prc-file>'\\
            }
            Specify target file for generation of precompiled code.
             {
            ~\\
            \usecodefont

            \verb'--vhdl <.vhd-file>'\\
            }
            Specify target file for generation of VHDL code.
             {
            ~\\
            \usecodefont

            \verb'--vhdl-tmpl <.vhd-file>'\\
            }
             Specify VHDL template file.
             {
            ~\\
            \usecodefont

            \verb'--verilog <.v-file>'\\
            }
           Specify target file for generation of verilog code.
             {
            ~\\
            \usecodefont

            \verb'--verilog-tmpl <.v-file>'\\
            }
            Specify verilog template file.
             {
            ~\\
            \usecodefont

            \verb'--mem <.mem-file>'\\
            }
            Specify target file for generation of MEM file.
             {
            ~\\
            \usecodefont

            \verb'--raw-hex-dump <.hex-file>'\\
            }
            Specify target file for Raw Hex Dump (sequence of 5 digit long hexadecimal numbers separated by CRLF sequence).\\

        \subsubsection{NOTES}
            `--' marks the end of options, it becomes useful when you want to compile file(s) which name(s) could be mistaken for a command line option.\\

            When multiple source files are specified, they are compiled as one unit in the order in which they appear on the command line (from left to right).
        \subsubsection{EXAMPLES}
            {
            ~\\
            \usecodefont

            \verb'mds-compiler --arch=PicoBlaze --plang=asm --hex=abc.hex abc.asm'\\
            }
            Compile source code file `abc.asm' (--file=abc.asm) for architecture PicoBlaze (--arch=PicoBlaze) written in assembly language (--plang=asm), and create file `abc.hex' containing machine code generated generated by the compiler.
             {
            ~\\
            \usecodefont

            \verb'mds-compiler --plang asm --arch PicoBlaze --hex abc.hex abc.asm'\\
            }
            Do the same at the above, only in this case we have used another variant of usage of switches with argument.
             {
            ~\\
            \usecodefont

            \verb'mds-compiler -p asm -a PicoBlaze -x abc.hex abc.asm'\\
            }
            Do the same at the above, only in this case we have used short version of the switches.\\


    \subsection{Disassembler}
        \subsubsection{Description}
            Disassembler is a tool intended to generate assembly language code from an object file. In other words it has certain level of
            capability of reversing the assembly process and regaining the original source code from any object code.\\

            USAGE:
            {
                ~\\
                \usecodefont
                \verb'mds-disasm  <OPTIONS>  [ -- ] <input-file>'\\
            }
            \subsubsection{Options}
                {
                ~\\
                \usecodefont

                \verb'--arch, -a <architecture>'\\
                }
                Specify target architecture, supported architectures are: \textbf{PicoBlaze}
                {
                ~\\
                \usecodefont

                \verb'--family, -f <family>'\\
                }
                Specify processor family, supported families for the given architectures are:  For \textbf{PicoBlaze:} kcpsm1, kcpsm1cpld, kcpsm2, kcpsm3, and kcpsm6
                {
                ~\\
                \usecodefont

                \verb'--out, -o <output-file>'\\
                }
                Specify output file where the resulting assembly language code will be stored.
                {
                ~\\
                \usecodefont

                \verb'--type, -t <input-file-format>'\\
                }
                 Type of the input file; if none provided, disassembler will try to guess the format from input file extension, supported types are:
                 \begin{description}
                  \item [hex:]I ntel 8 HEX, or Intel 16 HEX.
                  \item [srec:] Motorola S-Record.
                  \item [bin:] Raw binary file.
                  \item [mem:] Xilinx MEM file (for PicoBlaze only).
                  \item [vhd:] VHDL file (for PicoBlaze only).
                  \item [v:] Verilog file (for PicoBlaze only).
                 \end{description}
                {
                ~\\
                \usecodefont

                \verb'--cfg-ind <indentation>'\\
                }
                Indent with:
                \begin{description}
                  \item [Spaces:] Indent with spaces (default).
                  \item [Tabs:] Indent with tabs.
                \end{description}
                {
                ~\\
                \usecodefont

                \verb'--cfg-tabsz <n>'\\
                }
                Consider tab to be displayed at most n spaces wide, here it is by default 8.
                {
                ~\\
                \usecodefont

                \verb'--cfg-eof <end-of-line-character>'\\
                }
                Specify line separator, available options are:
                \begin{description}
                  \item [clrf:] [WINDOWS] use sequence of carriage return and line feed characters
                  \item [If:] [UNIX] use a single line feed character (0x0a = ') (default),
                  \item [cr:] [APPLE] use single carriage return (0x0d = '').
                \end{description}
                {
                ~\\
                \usecodefont

                \verb'--cfg-sym <symbols>'\\
                }
                Which kind of addresses should be translated to symbolic names, and which should remain to be represented as numbers, available options are:
                \begin{description}
                    \item [c:] Program memory.
                    \item [d:] Data memory.
                    \item [r:] Register file.
                    \item [p:] Port address.
                    \item [k:] Immediate constants.
                \end{description}
                 This options takes any combination of these, i.e. for example "cdr" stands for program memory + data memory + register file.
                {
                ~\\
                \usecodefont

                \verb'--cfg-lc <character>'\\
                }
                Use uppercase, or lowercase characters:
                \begin{description}
                    \item [l:] Lowercase.
                    \item [u:] Uppercase.
                \end{description}
                {
                ~\\
                \usecodefont

                \verb'--cfg-radix <radix>'\\
                }
                Radix, available options are:
                \begin{description}
                    \item [h:] Hexadecimal.
                    \item [d:] Decimal.
                    \item [b:] Binary.
                    \item [o:] Octal.
                \end{description}
                                {
                ~\\
                \usecodefont

                \verb'--help, -h'\\
                }
                Print help message.
                {
                ~\\
                \usecodefont

                \verb'--version, -V'\\
                }
                Print disassembler version and exit.\\\\
                NOTES:\\
                `--' marks the end of options, it becomes useful when you want to disassemble file which name could be mistaken for a command line option.
    \subsection{Assembler translator}
        \subsubsection{Description}
            mds-translator is tool for translating assembly language source code from one dialect to another; in this case it translates
            into assembly language used by MDS (Multitarget Development System) from dialect used by other companies or projects.\\

            USAGE:
            {
                ~\\
                \usecodefont
                \verb'mds-translator  <OPTIONS>  [ -- ] <input-file>'\\
            }
            \subsubsection{Options}
                {
                ~\\
                \usecodefont

                \verb'--type, -t <asm-variant>'\\
                }
                Specify variant of assembly language used in the input file, possible options are:
                \begin{description}
                  \item [1:] Xilinx KCPSMx
                  \item [2:] Mediatronix KCPSMx
                  \item [3:] openPICIDE KCPSMx
                \end{description}
                {
                ~\\
                \usecodefont

                \verb'--output, -o <file.asm>'\\
                }
                Specify output file.
                {
                ~\\
                \usecodefont

                \verb'--cfg-ind <indentation>'\\
                }
                Indent with:
                \begin{description}
                 \item [keep:] Do not alter original indentation.
                 \item [Spaces:] Indent with spaces.
                 \item [Tabs:] Indent with tabs.
                \end{description}
                {
                ~\\
                \usecodefont

                \verb'--cfg-tabsz <n>'\\
                }
                Consider tab to be displayed at most n spaces wide, here it is by default 8.
                {
                ~\\
                \usecodefont

                \verb'--cfg-eof <end-of-line-character>'\\
                }
                Specify line separator, available options are:
                \begin{description}
                  \item [clrf:] [WINDOWS] use sequence of carriage return and line feed characters
                  \item [If:] [UNIX] use a single line feed character (0x0a = ') (default),
                  \item [cr:] [APPLE] use single carriage return (0x0d = '').
                \end{description}
                {
                ~\\
                \usecodefont

                \verb'--short-inst <true|false>'\\
                }
                Use instruction shortcuts, e.g. `in' instead of `input', etc. (default: false).
                {
                ~\\
                \usecodefont

                \verb'--cfg-lc-sym <character>'\\
                }
                Use uppercase, or lowercase characters for symbols:
                \begin{description}
                    \item [l:] Lowercase.
                    \item [u:] Uppercase.
                \end{description}
                {
                ~\\
                \usecodefont

                \verb'--cfg-lc-dir <character>'\\
                }
                Use uppercase, or lowercase characters for directives:
                \begin{description}
                    \item [l:] Lowercase.
                    \item [u:] Uppercase.
                \end{description}
                {
                ~\\
                \usecodefont

                \verb'--cfg-lc-inst <character>'\\
                }
                Use uppercase, or lowercase characters for instructions:
                \begin{description}
                    \item [l:] Lowercase.
                    \item [u:] Uppercase.
                \end{description}
                                {
                ~\\
                \usecodefont

                \verb'--backup, -b'\\
                }
                Enable generation of backup files.
                {
                ~\\
                \usecodefont

                \verb'--version, -V'\\
                }
                Print version and exit.
                {
                ~\\
                \usecodefont

                \verb'--help, -h'\\
                }
                Print help message.\\\\
                NOTES:\\
                `--' marks the end of options, it becomes useful when you want to disassemble file which name could be mistaken for a command line option.
            \subsubsection{EXAMPLES}
                {
                ~\\
                \usecodefont
                \verb'mds-translator --type=1 --input=my_file.psm --output=final_file.asm'\\
                }                
